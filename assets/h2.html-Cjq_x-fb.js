import{_ as p,r as o,o as c,c as l,a as s,b as t,d as n,e as r}from"./app-gibbmrdO.js";const i={},u=r(`<h1 id="http-2" tabindex="-1"><a class="header-anchor" href="#http-2"><span>HTTP/2</span></a></h1><p>Способ передачи данных на основе HTTP/2.</p><p>Он полностью реализован в соответствии со стандартом HTTP/2 и может быть перенаправлен через другие HTTP-серверы (например, Nginx).</p><p>В соответствии с рекомендациями HTTP/2, клиент и сервер должны одновременно включать TLS для нормальной работы этого способа передачи.</p><p>HTTP/2 имеет встроенное мультиплексирование, не рекомендуется включать mux.cool при использовании HTTP/2.</p><div class="custom-container tip"><p class="custom-container-title">Подсказка</p><p>Текущая версия способа передачи HTTP/2 <strong>не требует</strong>, чтобы <strong>входящее соединение</strong> (<strong>сервер</strong>) имело конфигурацию TLS. Это позволяет в среде развертывания с разделением трафика для специальных целей использовать внешний шлюз для обработки TLS-соединения, в то время как Xray будет использоваться в качестве серверного приложения, а связь между шлюзом и Xray будет осуществляться по незашифрованному протоколу http/2, который называется <code>h2c</code>.</p></div><div class="custom-container warning"><p class="custom-container-title">Внимание</p><p>⚠️ Если вы используете fallback, обратите внимание на следующие моменты:</p><ul><li>Убедитесь, что (x)tlsSettings.alpn содержит h2, иначе HTTP/2 не сможет завершить TLS-рукопожатие.</li><li>HTTP/2 не может быть разделен по пути, рекомендуется использовать SNI-разделение.</li></ul></div><h2 id="httpobject" tabindex="-1"><a class="header-anchor" href="#httpobject"><span>HttpObject</span></a></h2><p><code>HttpObject</code> соответствует элементу <code>httpSettings</code> конфигурации передачи.</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;host&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;xray.com&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/random/path&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;read_idle_timeout&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token property">&quot;health_check_timeout&quot;</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
  <span class="token property">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PUT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;headers&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Header&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>host</code>: [string]</p></blockquote><p>Массив строк, каждый элемент которого является доменным именем.</p><p>Клиент будет случайным образом выбирать доменное имя из списка для связи, а сервер будет проверять, находится ли доменное имя в списке.</p><div class="custom-container tip"><p class="custom-container-title">Подсказка</p><p>Если не указать <code>&quot;httpSettings&quot;</code> или оставить значение <code>&quot;host&quot;: []</code> пустым, то будет использоваться значение по умолчанию <code>&quot;www.example.com&quot;</code>. Для успешного подключения значение <code>&quot;host&quot;</code> должно быть одинаковым на обеих сторонах. <code>&quot;host&quot;: [&quot;&quot;]</code> не является пустым значением.</p></div><blockquote><p><code>path</code>: string</p></blockquote><p>HTTP-путь, начинающийся с <code>/</code>, должен быть одинаковым у клиента и сервера.</p><p>Значение по умолчанию: <code>&quot;/&quot;</code>.</p><blockquote><p><code>read_idle_timeout</code>: number</p></blockquote><p>Время в секундах, по истечении которого, если данные не были получены, будет выполнена проверка работоспособности.</p><p>По умолчанию проверка работоспособности <strong>не включена</strong>.</p><div class="custom-container tip"><p class="custom-container-title">Подсказка</p><p>Настройка требуется <strong>только</strong> на стороне <strong>исходящего соединения</strong> (<strong>клиента</strong>).</p></div><div class="custom-container tip"><p class="custom-container-title">Подсказка</p><p>Может решить некоторые проблемы с &quot;обрывом&quot; соединения.</p></div><blockquote><p><code>health_check_timeout</code>: number</p></blockquote><p>Время ожидания ответа проверки работоспособности в секундах. Если в течение этого времени проверка работоспособности не будет завершена, она будет считаться неудачной. Значение по умолчанию: <code>15</code>.</p><div class="custom-container tip"><p class="custom-container-title">Подсказка</p><p>Настройка требуется <strong>только</strong> на стороне <strong>исходящего соединения</strong> (<strong>клиента</strong>).</p></div><blockquote><p><code>method</code>: string</p></blockquote><p>HTTP-метод. Значение по умолчанию: <code>&quot;PUT&quot;</code>.</p>`,27),d={href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods",target:"_blank",rel:"noopener noreferrer"},k=t("blockquote",null,[t("p",null,[t("code",null,"headers"),n(": map{ string: [string] }")])],-1),m=t("p",null,"Пользовательские HTTP-заголовки, пара ключ-значение, где каждый ключ представляет собой имя HTTP-заголовка, а значение представляет собой массив.",-1);function q(h,v){const e=o("I18nTip"),a=o("ExternalLinkIcon");return c(),l("div",null,[s(e),u,t("p",null,[n("При настройке следует использовать значения, перечисленные "),t("a",d,[n("здесь"),s(a)]),n(".")]),k,m])}const T=p(i,[["render",q],["__file","h2.html.vue"]]);export{T as default};
