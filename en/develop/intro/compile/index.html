<!doctype html><html><head><title>ç¼–è¯‘ :: Project X</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=revised content="2021-03-16T01:03:16 UTC"><meta name=description content="Project X çš„æ–‡æ¡£."><meta name=author content="Project X"><title>ç¼–è¯‘ :: Project X</title><link rel="shortcut icon" href=/images/favicon.png type=image/x-icon><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css integrity=sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script><link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel=stylesheet><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/layout.css><link rel=stylesheet type=text/css href=https://xtls.github.io/css/style.main.css><link rel=stylesheet type=text/css href=https://xtls.github.io/css/style.menu.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/notice.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/tabs.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/panel.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/columns.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/children.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/attachments.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/alert.css><link rel=stylesheet type=text/css href=/css/docport.css><script src=/js/docport.js></script><script type=text/javascript>var baseurl="https://xtls.github.io"</script><link rel=stylesheet href=/css/custom.css></head><body data-url=/en/develop/intro/compile/><style type=text/css>#debug{display:-webkit-box;display:-ms-flexbox;display:flex;line-height:3.5rem;margin-bottom:.35rem;padding:0 2rem;position:fixed;left:0;right:0;top:0;top:0;min-height:150px;background-color:#fff;border:3px solid red;z-index:10000;word-wrap:all;overflow:auto}</style><header><div><div class=burger><a href=javascript:void(0); style=font-size:15px onclick="$('article > aside').toggleClass('responsive')">&#9776;</a></div><div><a class=baselink href=https://xtls.github.io>Project X</a></div><nav class=shortcuts><li role><a href=/about/new rel=noopener>What's New</a></li><li role><a href=https://github.com/XTLS rel=noopener>GitHub</a></li><li role><a href=https://github.com/XTLS/Xray-core/releases rel=noopener>Download</a></li><li role><a href=https://xtls.github.io/ rel=noopener>Documentation</a></li></nav></div></header><article><aside><div class=search><div class=searchbox><input data-search-input id=search-by type=text placeholder="Type to search..."></div><script type=text/javascript src=/vendor/lunr/lunr.min.js></script><script type=text/javascript src=/vendor/auto-complete/auto-complete.js></script><link href=/vendor/auto-complete/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="https://xtls.github.io/en"</script><script type=text/javascript src=/js/search.js></script></div><center><a class=github-button href=https://github.com/XTLS/Xray-core/releases data-icon=octicon-cloud-download aria-label="Download vjeantet/hugo-theme-docport on GitHub">Download</a>
<a class=github-button href=https://github.com/XTLS/Xray-core data-icon=octicon-star data-show-count=false aria-label="Star vjeantet/hugo-theme-docport on GitHub">Star</a>
<a class=github-button href=https://github.com/XTLS/Xray-core/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork vjeantet/hugo-theme-docport on GitHub">Fork</a></center>
<script async defer src=https://buttons.github.io/buttons.js></script><div id=close_menu><a href=javascript:void(0); style=font-size:15px onclick="$('article > aside').toggleClass('responsive')"><i class="fa fa-lg fa-times"></i></a></div><ul class=menu><hr><li data-nav-id=https://xtls.github.io/en/about/ class="dd-item haschildren
item_level_$level"><i class="fas fa-chevron-right ddexp"></i><a href=/en/about/>Project X&nbsp;âš¡</a><ul><li data-nav-id=https://xtls.github.io/en/about/new/ class="dd-item
item_level_$level"><a href=/en/about/new/>X History&nbsp;</a></li></ul></li><hr><li data-nav-id=https://xtls.github.io/en/guide/ class="dd-item alwaysopen
item_level_$level"><a href=/en/guide/>Quick start&nbsp;</a></li><li data-nav-id=https://xtls.github.io/en/config/ class="dd-item haschildren
item_level_$level"><i class="fas fa-chevron-right ddexp"></i><a href=/en/config/>Configuration files&nbsp;ğŸ“œ</a><ul><li data-nav-id=https://xtls.github.io/en/config/base/ class="dd-item haschildren
item_level_$level"><a href=/en/config/base/>Basic configuration module&nbsp;</a>
<i class="fas fa-chevron-right ddexp"></i><ul><li data-nav-id=https://xtls.github.io/en/config/base/log/ class="dd-item
item_level_$level"><a href=/en/config/base/log/>æ—¥å¿—é…ç½®</a></li><li data-nav-id=https://xtls.github.io/en/config/base/api/ class="dd-item
item_level_$level"><a href=/en/config/base/api/>API interfaces</a></li><li data-nav-id=https://xtls.github.io/en/config/base/dns/ class="dd-item
item_level_$level"><a href=/en/config/base/dns/>Built-in dns server</a></li><li data-nav-id=https://xtls.github.io/en/config/base/routing/ class="dd-item
item_level_$level"><a href=/en/config/base/routing/>Routing</a></li><li data-nav-id=https://xtls.github.io/en/config/base/policy/ class="dd-item
item_level_$level"><a href=/en/config/base/policy/>æœ¬åœ°ç­–ç•¥</a></li><li data-nav-id=https://xtls.github.io/en/config/base/inbounds/ class="dd-item
item_level_$level"><a href=/en/config/base/inbounds/>Inbounds</a></li><li data-nav-id=https://xtls.github.io/en/config/base/outbounds/ class="dd-item
item_level_$level"><a href=/en/config/base/outbounds/>Outbounds</a></li><li data-nav-id=https://xtls.github.io/en/config/base/transport/ class="dd-item
item_level_$level"><a href=/en/config/base/transport/>ä¼ è¾“æ–¹å¼</a></li><li data-nav-id=https://xtls.github.io/en/config/base/stats/ class="dd-item
item_level_$level"><a href=/en/config/base/stats/>ç»Ÿè®¡ä¿¡æ¯</a></li><li data-nav-id=https://xtls.github.io/en/config/base/reverse/ class="dd-item
item_level_$level"><a href=/en/config/base/reverse/>åå‘ä»£ç†</a></li></ul></li><li data-nav-id=https://xtls.github.io/en/config/inbound-protocols/ class="dd-item
item_level_$level"><a href=/en/config/inbound-protocols/>Inbounds å¯ç”¨åè®®åˆ—è¡¨</a></li><li data-nav-id=https://xtls.github.io/en/config/outbound-protocols/ class="dd-item
item_level_$level"><a href=/en/config/outbound-protocols/>Outbounds å¯ç”¨åè®®åˆ—è¡¨</a></li><li data-nav-id=https://xtls.github.io/en/config/transports/ class="dd-item
item_level_$level"><a href=/en/config/transports/>ä¼ è¾“æ–¹å¼åˆ—è¡¨</a></li><li data-nav-id=https://xtls.github.io/en/config/fallback/ class="dd-item
item_level_$level"><a href=/en/config/fallback/>Fallbacks</a></li><li data-nav-id=https://xtls.github.io/en/config/xtls/ class="dd-item
item_level_$level"><a href=/en/config/xtls/>XTLS</a></li><li data-nav-id=https://xtls.github.io/en/config/env/ class="dd-item
item_level_$level"><a href=/en/config/env/>Environment Variables</a></li><li data-nav-id=https://xtls.github.io/en/config/multiple_config/ class="dd-item alwaysopen
item_level_$level"><a href=/en/config/multiple_config/>å¤šæ–‡ä»¶é…ç½®</a></li></ul></li><li data-nav-id=https://xtls.github.io/en/documents/ class="dd-item haschildren
item_level_$level"><i class="fas fa-chevron-right ddexp"></i><a href=/en/documents/>Using Experiences&nbsp;ğŸ“š</a><ul><li data-nav-id=https://xtls.github.io/en/documents/level-0/ class="dd-item alwaysopen
item_level_$level"><a href=/en/documents/level-0/>å°å°ç™½ç™½è¯æ–‡&nbsp;ğŸ“™</a></li><li data-nav-id=https://xtls.github.io/en/documents/level-1/ class="dd-item alwaysopen
item_level_$level"><a href=/en/documents/level-1/>Getting Started Skills&nbsp;</a></li><li data-nav-id=https://xtls.github.io/en/documents/level-2/ class="dd-item alwaysopen
item_level_$level"><a href=/en/documents/level-2/>Advanced Documentation&nbsp;ğŸ“˜</a></li></ul></li><li data-nav-id=https://xtls.github.io/en/develop/ class="dd-item parent haschildren
item_level_$level"><i class="fas fa-chevron-down ddexp"></i><a href=/en/develop/>å¼€å‘æŒ‡å—&nbsp;ğŸ–¥ï¸</a><ul><li data-nav-id=https://xtls.github.io/en/develop/intro/ class="dd-item parent active alwaysopen
item_level_$level"><a href=/en/develop/intro/>å¼€å‘æ‰‹å†Œ</a></li><li data-nav-id=https://xtls.github.io/en/develop/protocols/ class="dd-item alwaysopen
item_level_$level"><a href=/en/develop/protocols/>åè®®è¯¦è§£</a></li></ul></li><li data-nav-id=https://xtls.github.io/en/faq/ class="dd-item alwaysopen
item_level_$level"><a href=/en/faq/>å¸¸è§é—®ç­”&nbsp;ğŸ’¬</a></li><li data-nav-id=https://xtls.github.io/en/caseslip/ class="dd-item alwaysopen
item_level_$level"><a href=/en/caseslip/>å¤§æ¡ˆç‰æœ¯&nbsp;</a></li><hr><li data-nav-id=https://xtls.github.io/en/links/ class="dd-item alwaysopen
item_level_$level"><a href=/en/links/>å¸¸ç”¨é“¾æ¥&nbsp;ğŸ¤</a></li></ul></aside><section class=page><nav id=ariane aria-label=breadcrumb><ol class=ariane><li><a class=text-link href=https://xtls.github.io>Home</a></li><li><a class=text-link href=/en/develop/>å¼€å‘æŒ‡å—</a></li><li><a class=text-link href=/en/develop/intro/>å¼€å‘æ‰‹å†Œ</a></li><li class=active>ç¼–è¯‘</li></ol></nav><h1>å¼€å‘æ‰‹å†Œ<span>ç¼–è¯‘</span></h1><nav class=subpages><li class=active><a title=$pagetitle href=/en/develop/intro/compile/>ç¼–è¯‘</a></li><li><a title=$pagetitle href=/en/develop/intro/design/>è®¾è®¡æ€è·¯</a></li><li><a title=$pagetitle href=/en/develop/intro/guide/>å¼€å‘è§„èŒƒ</a></li></nav><div class=jump-to-section><span onclick="$h=$(this),$h.next('nav').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('nav').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right'})})"><span class="fas fa-align-right"></span>Jump to Section
<i class="fas fa-chevron-right"></i></span><nav id=TableOfContents><ul><li><a href=#å‰åºå·¥ä½œ>å‰åºå·¥ä½œ</a></li><li><a href=#ç¼–è¯‘>ç¼–è¯‘</a><ul><li><a href=#æ‹‰å–-xray-æºä»£ç å’Œä¾èµ–>æ‹‰å– Xray æºä»£ç å’Œä¾èµ–</a></li><li><a href=#æ‰‹å·¥ç¼–è¯‘>æ‰‹å·¥ç¼–è¯‘</a></li></ul></li></ul></nav></div><div class=content><h2 ref=å‰åºå·¥ä½œ>å‰åºå·¥ä½œ</h2><a class=anchor id=å‰åºå·¥ä½œ></a><hr><p>Xray ä½¿ç”¨ <a href=https://golang.org/>Golang</a> ä½œä¸ºä¸»è¦ç¼–ç¨‹è¯­è¨€ã€‚</p><ul><li>ä¸‹è½½ Golang: <a href=https://golang.org/dl/>Downloads</a></li><li>å®‰è£… Golang: <a href=https://golang.org/doc/install>install</a></li></ul><div class="notices danger"><label>important</label><p>è¯·ä½¿ç”¨ Golang 1.15 ä»¥ä¸Šç‰ˆæœ¬ã€‚</p></div><p><br></p><h2 ref=ç¼–è¯‘>ç¼–è¯‘</h2><a class=anchor id=ç¼–è¯‘></a><hr><h3 ref=æ‹‰å–-xray-æºä»£ç å’Œä¾èµ–>æ‹‰å– Xray æºä»£ç å’Œä¾èµ–</h3><a class=anchor id=æ‹‰å–-xray-æºä»£ç å’Œä¾èµ–></a><hr><p>åœ¨å®‰è£…äº†<a href=https://git-scm.com/>git</a>çš„ç¯å¢ƒä¸‹, åªéœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯cloneä¸€ä»½å®Œæ•´çš„Xray-coreä»£ç :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash>git clone https://github.com/XTLS/Xray-core.git
</code></pre></div><p><br></p><h4 ref=æ³¨æ„äº‹é¡¹>æ³¨æ„äº‹é¡¹</h4><a class=anchor id=æ³¨æ„äº‹é¡¹></a><hr><p>åœ¨æ— æ³•æ­£å¸¸è®¿é—® Google çš„ç½‘ç»œç¯å¢ƒï¼Œä¾èµ–å¯èƒ½æ— æ³•è¢«æ­£å¸¸æ‹‰å–ï¼Œå¯ä»¥é€šè¿‡å„ç§æ‰‹æ®µä»£ç†è§£å†³.<br></p><p>æ¯”å¦‚å¯ä»¥é€šè¿‡è®¾ç½® <code>GOPROXY</code>ï¼š</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash>go env -w GOPROXY<span style=color:#f92672>=</span>https://goproxy.io,direct
</code></pre></div><p><br></p><h3 ref=æ‰‹å·¥ç¼–è¯‘>æ‰‹å·¥ç¼–è¯‘</h3><a class=anchor id=æ‰‹å·¥ç¼–è¯‘></a><hr><div class="notices danger"><label>important</label><p>æœ¬å°èŠ‚çš„å‘½ä»¤éœ€è¦åœ¨ Xray é¡¹ç›®æ ¹ç›®å½•å†…è¿è¡Œã€‚</p></div><p>åœ¨ Linux ç¯å¢ƒä¸‹, åªéœ€æ‰§è¡Œä»¥ä¸‹å‘½ä»¤, å³å¯åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆåˆšæ„å»ºçš„ <code>xray</code> å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash>CGO_ENABLED<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> go build -o xray -trimpath -ldflags <span style=color:#e6db74>&#34;-s -w -buildid=&#34;</span> ./main
</code></pre></div><p>å¦‚æœéœ€è¦ç¼–è¯‘å¯ä»¥è¿›è¡Œdebugçš„ç¨‹åº,å³å¯ä»¥ç”¨dlvé™„åŠ åˆ°è¿è¡Œçš„ç¨‹åºè¿›è¡Œè°ƒè¯•, è¯·å»æ‰ ldflags ä¸­çš„ &lsquo;-w -s&rsquo; é€‰é¡¹.</p><div class="notices info"><p><strong>TIP</strong><br>-w ç¦æ­¢ç”Ÿæˆdebugä¿¡æ¯,æ³¨æ„ä½¿ç”¨è¯¥é€‰é¡¹åï¼Œæ— æ³•ä½¿ç”¨ gdb è¿›è¡Œè°ƒè¯•<br>-s ç¦ç”¨ç¬¦å·è¡¨<br>PS:å…¶å®ç”¨vscodeè°ƒè¯•ä¼¼ä¹æ›´æ–¹ä¾¿.</p></div><p><br></p><h4 ref=äº¤å‰ç¼–è¯‘>äº¤å‰ç¼–è¯‘</h4><a class=anchor id=äº¤å‰ç¼–è¯‘></a><hr><p>æ„å»ºå…¶ä»– CPU æ¶æ„ã€å…¶ä»–ç³»ç»Ÿï¼ˆWindows/macOSï¼‰çš„å¯æ‰§è¡Œæ–‡ä»¶éœ€è¦è®¾ç½® <code>GOOS</code> å’Œ <code>GOARCH</code> ä¸¤ä¸ªç¯å¢ƒå˜é‡ä¸ºç›®æ ‡å¹³å°/æ¶æ„.<br>å¯ä»¥å‚è€ƒ Golang ç›¸å…³æ–‡æ¡£ æ¯”å¦‚<a href=https://github.com/golang/go/wiki/WindowsCrossCompiling>Building Windows Go programs on Linux</a>ã€‚</p><p>å¦‚ä¸‹é¢ä»£ç å³å¯ä»¥æ„å»ºå¯è¿è¡Œåœ¨ Windows 64 ä½ç³»ç»Ÿçš„ <code>xray.exe</code> å¯æ‰§è¡Œæ–‡ä»¶ï¼š</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash>CGO_ENABLED<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> GOOS<span style=color:#f92672>=</span>windows GOARCH<span style=color:#f92672>=</span>amd64 go build -o xray.exe -trimpath -ldflags <span style=color:#e6db74>&#34;-s -w -buildid=&#34;</span> ./main
</code></pre></div><div class="notices info"><p><strong>TIP</strong><br>æ‰§è¡Œ <code>go tool dist list</code> å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„ç³»ç»Ÿä¸æ¶æ„ã€‚
æŸäº›æ¶æ„è¿˜éœ€è¦æ§åˆ¶å…¶å®ƒç¯å¢ƒå˜é‡ï¼Œå¦‚ <code>arm</code> çš„ <code>GOARM</code>ï¼Œç”¨äºè®¾ç½®è¿è¡Œæ—¶ CPU æµ®ç‚¹åå¤„ç†å™¨çš„ç‰ˆæœ¬ã€‚</p></div></div><div class=chevrons></div></section><section class=right-menu><div class=TableOfContents><label><i class="fas fa-align-right"></i>&nbsp;&nbsp;What's on this page</label><nav><ul><li><a href=/en/develop/intro/compile/>ç¼–è¯‘</a></li></ul></nav><nav id=TableOfContents><ul><li><a href=#å‰åºå·¥ä½œ>å‰åºå·¥ä½œ</a></li><li><a href=#ç¼–è¯‘>ç¼–è¯‘</a><ul><li><a href=#æ‹‰å–-xray-æºä»£ç å’Œä¾èµ–>æ‹‰å– Xray æºä»£ç å’Œä¾èµ–</a></li><li><a href=#æ‰‹å·¥ç¼–è¯‘>æ‰‹å·¥ç¼–è¯‘</a></li></ul></li></ul></nav></div><div class=Actions><nav><ul><li><a href=https://github.com/XTLS/XTLS.github.io/tree/main/content/develop/intro/compile.md target=blank><i class="fab fa-github"></i>Improve this page</a></li><li><i class="fas fa-calendar"></i>Last update on 23 December 2020</li></ul></nav></div></section></article><footer><footer><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel="noopener noreferrer" href=https://example.org/mail><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel="noopener noreferrer" href=https://example.org/twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank rel="noopener noreferrer" href=https://example.org/stack><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/XTLS><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel="noopener noreferrer" href=https://example.org/slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel="noopener noreferrer" href=https://example.org/mail><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2020-2021 ProjectX Community All Rights Reserved</small></div></div></div></footer></footer></body></html>