<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.2">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/logo.png"><title>ã€ç¬¬ 7 ç« ã€‘Xray æœåŠ¡å™¨ç¯‡ | Project X</title><meta name="description" content="Official document of Xray">
    <link rel="preload" href="/assets/style-DPNvLHrM.css" as="style"><link rel="stylesheet" href="/assets/style-DPNvLHrM.css">
    <link rel="modulepreload" href="/assets/app-BKlUr_BJ.js"><link rel="modulepreload" href="/assets/ch07-xray-server.html-DJ8-Sypk.js"><link rel="modulepreload" href="/assets/ch07-xray-server.html-DV8gkxcZ.js">
    <link rel="prefetch" href="/assets/index.html-D9G6CNbk.js" as="script"><link rel="prefetch" href="/assets/news.html-C-ufwDLv.js" as="script"><link rel="prefetch" href="/assets/index.html-B2ETL5pY.js" as="script"><link rel="prefetch" href="/assets/api.html-5y-QWEO9.js" as="script"><link rel="prefetch" href="/assets/dns.html-BfPt-22g.js" as="script"><link rel="prefetch" href="/assets/fakedns.html-BSHcVJMt.js" as="script"><link rel="prefetch" href="/assets/inbound.html-DyiGLTJ2.js" as="script"><link rel="prefetch" href="/assets/log.html-De0YGftm.js" as="script"><link rel="prefetch" href="/assets/metrics.html-C1kvghj5.js" as="script"><link rel="prefetch" href="/assets/observatory.html-Dkgoiajw.js" as="script"><link rel="prefetch" href="/assets/outbound.html-BqluEMXU.js" as="script"><link rel="prefetch" href="/assets/policy.html-CErsqhDk.js" as="script"><link rel="prefetch" href="/assets/reverse.html-BzUnx5j0.js" as="script"><link rel="prefetch" href="/assets/routing.html-CLR1ebc1.js" as="script"><link rel="prefetch" href="/assets/stats.html-DHCl8ess.js" as="script"><link rel="prefetch" href="/assets/transport.html-WOZvk-Q7.js" as="script"><link rel="prefetch" href="/assets/index.html-CTbMiGG2.js" as="script"><link rel="prefetch" href="/assets/index.html-CA-WluU-.js" as="script"><link rel="prefetch" href="/assets/command.html-C0dMAS51.js" as="script"><link rel="prefetch" href="/assets/config.html-O0hv2z0b.js" as="script"><link rel="prefetch" href="/assets/document.html-vroedGik.js" as="script"><link rel="prefetch" href="/assets/install.html-f63Sv7SS.js" as="script"><link rel="prefetch" href="/assets/index.html-QftOk6LQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CshDtg4G.js" as="script"><link rel="prefetch" href="/assets/browser_dialer.html-DYjgEhDN.js" as="script"><link rel="prefetch" href="/assets/env.html-x3PGFNW0.js" as="script"><link rel="prefetch" href="/assets/fallback.html-BCz8baOr.js" as="script"><link rel="prefetch" href="/assets/multiple.html-CA4IQdBs.js" as="script"><link rel="prefetch" href="/assets/xtls.html-DTQkH1EU.js" as="script"><link rel="prefetch" href="/assets/dokodemo.html-BVzbqjRe.js" as="script"><link rel="prefetch" href="/assets/http.html-BIzz1n6q.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-Bog2IQ_X.js" as="script"><link rel="prefetch" href="/assets/socks.html-DSlw2Tvo.js" as="script"><link rel="prefetch" href="/assets/trojan.html-BkQCt-32.js" as="script"><link rel="prefetch" href="/assets/vless.html-C-ZN23Kg.js" as="script"><link rel="prefetch" href="/assets/vmess.html-BSAH9EwQ.js" as="script"><link rel="prefetch" href="/assets/blackhole.html-C3j-gtFm.js" as="script"><link rel="prefetch" href="/assets/dns.html-R1M3D1VY.js" as="script"><link rel="prefetch" href="/assets/freedom.html-CSK1O1gJ.js" as="script"><link rel="prefetch" href="/assets/http.html-CqFywJ_o.js" as="script"><link rel="prefetch" href="/assets/loopback.html-CYltRkS6.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-BdSAub8s.js" as="script"><link rel="prefetch" href="/assets/socks.html-C_Ryg_Zn.js" as="script"><link rel="prefetch" href="/assets/trojan.html-_aC10_zp.js" as="script"><link rel="prefetch" href="/assets/vless.html-Dyo0vY59.js" as="script"><link rel="prefetch" href="/assets/vmess.html-3bHG9IEs.js" as="script"><link rel="prefetch" href="/assets/wireguard.html-DMp0Htsq.js" as="script"><link rel="prefetch" href="/assets/domainsocket.html-DZc5AOZh.js" as="script"><link rel="prefetch" href="/assets/grpc.html-BOwRBc6V.js" as="script"><link rel="prefetch" href="/assets/h2.html-B-_cdxSw.js" as="script"><link rel="prefetch" href="/assets/httpupgrade.html-DNm5DiZb.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-CmaMJX_Q.js" as="script"><link rel="prefetch" href="/assets/quic.html-t3RvaIkj.js" as="script"><link rel="prefetch" href="/assets/splithttp.html-U7GuxwvG.js" as="script"><link rel="prefetch" href="/assets/tcp.html-tAb-Rdu-.js" as="script"><link rel="prefetch" href="/assets/websocket.html-J4zD0ZXr.js" as="script"><link rel="prefetch" href="/assets/compile.html-C08Er0mK.js" as="script"><link rel="prefetch" href="/assets/design.html-JvR3o2wW.js" as="script"><link rel="prefetch" href="/assets/guide.html-CIw6ZqK-.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-BECLirWp.js" as="script"><link rel="prefetch" href="/assets/muxcool.html-DxsTQuoq.js" as="script"><link rel="prefetch" href="/assets/vless.html-bx0zLtjU.js" as="script"><link rel="prefetch" href="/assets/vmess.html-DH5KSkx4.js" as="script"><link rel="prefetch" href="/assets/index.html-CpLT_ZsY.js" as="script"><link rel="prefetch" href="/assets/ch01-preface.html-DmNJxKif.js" as="script"><link rel="prefetch" href="/assets/ch02-preparation.html-BTKGqj9u.js" as="script"><link rel="prefetch" href="/assets/ch03-ssh.html-Bs4sxOG7.js" as="script"><link rel="prefetch" href="/assets/ch04-security.html-BgZQf6Zy.js" as="script"><link rel="prefetch" href="/assets/ch05-webpage.html-C3ISjTL0.js" as="script"><link rel="prefetch" href="/assets/ch06-certificates.html-g-a588dM.js" as="script"><link rel="prefetch" href="/assets/ch07-xray-server.html-CL7ODUGu.js" as="script"><link rel="prefetch" href="/assets/ch08-xray-clients.html-D0DH-0jR.js" as="script"><link rel="prefetch" href="/assets/ch09-appendix.html-B-sOxmCt.js" as="script"><link rel="prefetch" href="/assets/index.html-Z8xBvZ8J.js" as="script"><link rel="prefetch" href="/assets/fallbacks-lv1.html-Dyr_PhvB.js" as="script"><link rel="prefetch" href="/assets/fallbacks-with-sni.html-V5VzGt_a.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part1.html-DsPriwu4.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part2.html-Shikx9Ih.js" as="script"><link rel="prefetch" href="/assets/work.html-CEe4qs2X.js" as="script"><link rel="prefetch" href="/assets/index.html-DC6-KGmE.js" as="script"><link rel="prefetch" href="/assets/iptables_gid.html-BMSyFQlC.js" as="script"><link rel="prefetch" href="/assets/nginx_or_haproxy_tls_tunnel.html-BRMPCdti.js" as="script"><link rel="prefetch" href="/assets/redirect.html-qKHxqUqo.js" as="script"><link rel="prefetch" href="/assets/tproxy.html-ByDe25dh.js" as="script"><link rel="prefetch" href="/assets/tproxy_ipv4_and_ipv6.html-D-5zdr32.js" as="script"><link rel="prefetch" href="/assets/traffic_stats.html-0T5V4GoX.js" as="script"><link rel="prefetch" href="/assets/warp.html-BDXJx2co.js" as="script"><link rel="prefetch" href="/assets/news.html-Cct6yV3F.js" as="script"><link rel="prefetch" href="/assets/index.html-CVcFP_qj.js" as="script"><link rel="prefetch" href="/assets/api.html-Kao4_KiT.js" as="script"><link rel="prefetch" href="/assets/dns.html-CvTCwYNS.js" as="script"><link rel="prefetch" href="/assets/fakedns.html-Dvu3AZyj.js" as="script"><link rel="prefetch" href="/assets/inbound.html-YO29XvIi.js" as="script"><link rel="prefetch" href="/assets/log.html-IZnUGgyl.js" as="script"><link rel="prefetch" href="/assets/metrics.html-BLJ8GVn6.js" as="script"><link rel="prefetch" href="/assets/outbound.html-BbOlQ8w3.js" as="script"><link rel="prefetch" href="/assets/policy.html-C8ASaUzS.js" as="script"><link rel="prefetch" href="/assets/reverse.html-BnnvxzqT.js" as="script"><link rel="prefetch" href="/assets/routing.html-DzKOoZiJ.js" as="script"><link rel="prefetch" href="/assets/stats.html-DGZuatV1.js" as="script"><link rel="prefetch" href="/assets/transport.html-D6GYtVev.js" as="script"><link rel="prefetch" href="/assets/index.html-CFqc6OBy.js" as="script"><link rel="prefetch" href="/assets/index.html-C3JYr0X_.js" as="script"><link rel="prefetch" href="/assets/command.html-BjkO-kt_.js" as="script"><link rel="prefetch" href="/assets/config.html-DrlSKA0W.js" as="script"><link rel="prefetch" href="/assets/document.html-CBY4dmVD.js" as="script"><link rel="prefetch" href="/assets/install.html-B3katEMP.js" as="script"><link rel="prefetch" href="/assets/news.html-CHwot1ez.js" as="script"><link rel="prefetch" href="/assets/index.html-Br3dj_2c.js" as="script"><link rel="prefetch" href="/assets/api.html-DLDnYtg0.js" as="script"><link rel="prefetch" href="/assets/dns.html-DfoiH0ad.js" as="script"><link rel="prefetch" href="/assets/fakedns.html-DFAPe69C.js" as="script"><link rel="prefetch" href="/assets/inbound.html-BrzkUvMu.js" as="script"><link rel="prefetch" href="/assets/log.html-DcQn41R9.js" as="script"><link rel="prefetch" href="/assets/metrics.html-wNzErJVc.js" as="script"><link rel="prefetch" href="/assets/observatory.html-CQ1B9WMF.js" as="script"><link rel="prefetch" href="/assets/outbound.html-CKWk5NZW.js" as="script"><link rel="prefetch" href="/assets/policy.html-CZXmUkYI.js" as="script"><link rel="prefetch" href="/assets/reverse.html-B5DaFRsx.js" as="script"><link rel="prefetch" href="/assets/routing.html-hAABI1Tf.js" as="script"><link rel="prefetch" href="/assets/stats.html-CkQuuoBx.js" as="script"><link rel="prefetch" href="/assets/transport.html-CFXMs8xC.js" as="script"><link rel="prefetch" href="/assets/index.html-BBMcLiPC.js" as="script"><link rel="prefetch" href="/assets/index.html-B-J-mqnv.js" as="script"><link rel="prefetch" href="/assets/command.html-DW_7KV_h.js" as="script"><link rel="prefetch" href="/assets/config.html-CpMF1H3m.js" as="script"><link rel="prefetch" href="/assets/document.html-Cv2iGxpB.js" as="script"><link rel="prefetch" href="/assets/install.html-DvdIFSLJ.js" as="script"><link rel="prefetch" href="/assets/transparent_proxy.html-DZNi96TQ.js" as="script"><link rel="prefetch" href="/assets/browser_dialer.html-Bdbrov2m.js" as="script"><link rel="prefetch" href="/assets/env.html-kVBaIisu.js" as="script"><link rel="prefetch" href="/assets/fallback.html-Cz26Rtbk.js" as="script"><link rel="prefetch" href="/assets/multiple.html-672DYUik.js" as="script"><link rel="prefetch" href="/assets/xtls.html-enE-oLop.js" as="script"><link rel="prefetch" href="/assets/dokodemo.html-tumWX5uf.js" as="script"><link rel="prefetch" href="/assets/http.html-Dk_GJXk3.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-nKE9-JwE.js" as="script"><link rel="prefetch" href="/assets/socks.html-DxBaX8G5.js" as="script"><link rel="prefetch" href="/assets/trojan.html-2VAwem9J.js" as="script"><link rel="prefetch" href="/assets/vless.html-B-g97Yyd.js" as="script"><link rel="prefetch" href="/assets/vmess.html-DmF6uMmY.js" as="script"><link rel="prefetch" href="/assets/blackhole.html-Cv99Ln_e.js" as="script"><link rel="prefetch" href="/assets/dns.html-B4Qc1gmf.js" as="script"><link rel="prefetch" href="/assets/freedom.html-_dL0cjqr.js" as="script"><link rel="prefetch" href="/assets/http.html-BW71su7G.js" as="script"><link rel="prefetch" href="/assets/loopback.html-DBZDnpde.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-Cfe33M9q.js" as="script"><link rel="prefetch" href="/assets/socks.html-ZsLxpdI_.js" as="script"><link rel="prefetch" href="/assets/trojan.html-C_OdgAQH.js" as="script"><link rel="prefetch" href="/assets/vless.html-DlmKLXmq.js" as="script"><link rel="prefetch" href="/assets/vmess.html-BnKkO-oz.js" as="script"><link rel="prefetch" href="/assets/wireguard.html-B1zHQq-E.js" as="script"><link rel="prefetch" href="/assets/domainsocket.html-DIVEYZMl.js" as="script"><link rel="prefetch" href="/assets/grpc.html-D7nAIvyK.js" as="script"><link rel="prefetch" href="/assets/h2.html-9I7eRGud.js" as="script"><link rel="prefetch" href="/assets/httpupgrade.html-DpYANPWG.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-D1BaSNsx.js" as="script"><link rel="prefetch" href="/assets/quic.html-0dkTOtLC.js" as="script"><link rel="prefetch" href="/assets/splithttp.html-BCOW9CWx.js" as="script"><link rel="prefetch" href="/assets/tcp.html-Dvv-qFsr.js" as="script"><link rel="prefetch" href="/assets/websocket.html-CDgG-JKn.js" as="script"><link rel="prefetch" href="/assets/compile.html-CSlVqiWd.js" as="script"><link rel="prefetch" href="/assets/design.html-CnO0gj1h.js" as="script"><link rel="prefetch" href="/assets/guide.html-C1S7IA49.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-VU4-Z4x2.js" as="script"><link rel="prefetch" href="/assets/muxcool.html-CEJDgOyw.js" as="script"><link rel="prefetch" href="/assets/vless.html-DH9DXlDy.js" as="script"><link rel="prefetch" href="/assets/vmess.html-DRYwVgEC.js" as="script"><link rel="prefetch" href="/assets/index.html-B7FLw-wS.js" as="script"><link rel="prefetch" href="/assets/ch01-preface.html-CpS2RBBO.js" as="script"><link rel="prefetch" href="/assets/ch02-preparation.html-nD3-r55P.js" as="script"><link rel="prefetch" href="/assets/ch03-ssh.html-6Lvt6PUL.js" as="script"><link rel="prefetch" href="/assets/ch04-security.html-B6qoKme-.js" as="script"><link rel="prefetch" href="/assets/ch05-webpage.html-DzsY94d_.js" as="script"><link rel="prefetch" href="/assets/ch06-certificates.html-BznpCurY.js" as="script"><link rel="prefetch" href="/assets/ch08-xray-clients.html-DQ22p1_O.js" as="script"><link rel="prefetch" href="/assets/ch09-appendix.html-CgxfJw0n.js" as="script"><link rel="prefetch" href="/assets/index.html-NEtYQEGC.js" as="script"><link rel="prefetch" href="/assets/fallbacks-lv1.html-DzqMpBvO.js" as="script"><link rel="prefetch" href="/assets/fallbacks-with-sni.html--6P9o5e1.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part1.html-GsbV156D.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part2.html-BeZDTPEs.js" as="script"><link rel="prefetch" href="/assets/work.html-bZWwnav2.js" as="script"><link rel="prefetch" href="/assets/index.html-CL_S8-vB.js" as="script"><link rel="prefetch" href="/assets/iptables_gid.html-C-yflUZU.js" as="script"><link rel="prefetch" href="/assets/nginx_or_haproxy_tls_tunnel.html-D4Pr38b-.js" as="script"><link rel="prefetch" href="/assets/redirect.html-CkD_E0gF.js" as="script"><link rel="prefetch" href="/assets/tproxy.html-BW6K5LzA.js" as="script"><link rel="prefetch" href="/assets/tproxy_ipv4_and_ipv6.html-BQJ6GusY.js" as="script"><link rel="prefetch" href="/assets/traffic_stats.html-DD1S40Up.js" as="script"><link rel="prefetch" href="/assets/warp.html-C4DFBgRI.js" as="script"><link rel="prefetch" href="/assets/browser_dialer.html-DHvZocHd.js" as="script"><link rel="prefetch" href="/assets/env.html-BcRLB4iC.js" as="script"><link rel="prefetch" href="/assets/fallback.html-BtkFw_Xq.js" as="script"><link rel="prefetch" href="/assets/multiple.html-L9QltWwj.js" as="script"><link rel="prefetch" href="/assets/xtls.html-ByQJIYGC.js" as="script"><link rel="prefetch" href="/assets/dokodemo.html-B3AutCKN.js" as="script"><link rel="prefetch" href="/assets/http.html-wmoV0Z5H.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-Dq6vO-NY.js" as="script"><link rel="prefetch" href="/assets/socks.html-DOyZIvi6.js" as="script"><link rel="prefetch" href="/assets/trojan.html-ur2ZEK_x.js" as="script"><link rel="prefetch" href="/assets/vless.html-0uO0vtmp.js" as="script"><link rel="prefetch" href="/assets/vmess.html-BtGpHvfz.js" as="script"><link rel="prefetch" href="/assets/blackhole.html-DWoVmjiZ.js" as="script"><link rel="prefetch" href="/assets/dns.html-QSFk3MG9.js" as="script"><link rel="prefetch" href="/assets/freedom.html-B_gcEzdo.js" as="script"><link rel="prefetch" href="/assets/http.html-o0wpiHQf.js" as="script"><link rel="prefetch" href="/assets/loopback.html-BcZmhFf5.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-S-jhNF8h.js" as="script"><link rel="prefetch" href="/assets/socks.html-zyIZHHJ4.js" as="script"><link rel="prefetch" href="/assets/trojan.html-2ngT_7cs.js" as="script"><link rel="prefetch" href="/assets/vless.html-CuRdS6Yv.js" as="script"><link rel="prefetch" href="/assets/vmess.html-D5q0vDPy.js" as="script"><link rel="prefetch" href="/assets/wireguard.html-DILhdRFk.js" as="script"><link rel="prefetch" href="/assets/domainsocket.html-DUhqh-j5.js" as="script"><link rel="prefetch" href="/assets/grpc.html-1JoA2je9.js" as="script"><link rel="prefetch" href="/assets/h2.html-BOxtTm8R.js" as="script"><link rel="prefetch" href="/assets/httpupgrade.html-C5iPswVE.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-DILru_l-.js" as="script"><link rel="prefetch" href="/assets/quic.html-Grd-KxcO.js" as="script"><link rel="prefetch" href="/assets/splithttp.html-D_LAPQ-c.js" as="script"><link rel="prefetch" href="/assets/tcp.html-BgZgnk7j.js" as="script"><link rel="prefetch" href="/assets/websocket.html-DNoxTZYE.js" as="script"><link rel="prefetch" href="/assets/compile.html-D59MH5rf.js" as="script"><link rel="prefetch" href="/assets/design.html-Ddh8g14z.js" as="script"><link rel="prefetch" href="/assets/guide.html-BdEYZrHF.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-DAmKBEn3.js" as="script"><link rel="prefetch" href="/assets/muxcool.html-mhoEooTk.js" as="script"><link rel="prefetch" href="/assets/vless.html-CkQDajpI.js" as="script"><link rel="prefetch" href="/assets/vmess.html-DtwTJf0_.js" as="script"><link rel="prefetch" href="/assets/index.html-CpXf73_p.js" as="script"><link rel="prefetch" href="/assets/ch01-preface.html-w7EJag-g.js" as="script"><link rel="prefetch" href="/assets/ch02-preparation.html-Dgjcbj9R.js" as="script"><link rel="prefetch" href="/assets/ch03-ssh.html-SW0FgDU9.js" as="script"><link rel="prefetch" href="/assets/ch04-security.html-DMyIYFbc.js" as="script"><link rel="prefetch" href="/assets/ch05-webpage.html-BJ9Dh4eq.js" as="script"><link rel="prefetch" href="/assets/ch06-certificates.html-CYpwWYQK.js" as="script"><link rel="prefetch" href="/assets/ch07-xray-server.html-BMC39V_R.js" as="script"><link rel="prefetch" href="/assets/ch08-xray-clients.html-DiJ6a_Z3.js" as="script"><link rel="prefetch" href="/assets/ch09-appendix.html-CaY0Q2De.js" as="script"><link rel="prefetch" href="/assets/index.html-DIt_Qwmg.js" as="script"><link rel="prefetch" href="/assets/fallbacks-lv1.html-Cj8_C__Y.js" as="script"><link rel="prefetch" href="/assets/fallbacks-with-sni.html-UrPS3PK0.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part1.html-ZKuR2lvb.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part2.html-BNHKIWxf.js" as="script"><link rel="prefetch" href="/assets/work.html-nNVb3F6P.js" as="script"><link rel="prefetch" href="/assets/index.html-nyT_8_ff.js" as="script"><link rel="prefetch" href="/assets/iptables_gid.html-5z8dtoE5.js" as="script"><link rel="prefetch" href="/assets/nginx_or_haproxy_tls_tunnel.html-VAv26tAr.js" as="script"><link rel="prefetch" href="/assets/redirect.html-IdxcHO8c.js" as="script"><link rel="prefetch" href="/assets/tproxy.html-BHj4GcZZ.js" as="script"><link rel="prefetch" href="/assets/tproxy_ipv4_and_ipv6.html-D9HsaVXj.js" as="script"><link rel="prefetch" href="/assets/traffic_stats.html-D5bPdgjj.js" as="script"><link rel="prefetch" href="/assets/warp.html-Dj49TU1P.js" as="script"><link rel="prefetch" href="/assets/transparent_proxy.html-C4cGXidp.js" as="script"><link rel="prefetch" href="/assets/transparent_proxy.html-CdU0iNrm.js" as="script"><link rel="prefetch" href="/assets/404.html-CnfmQthm.js" as="script"><link rel="prefetch" href="/assets/observatory.html-CSc-qsnJ.js" as="script"><link rel="prefetch" href="/assets/index.html-LZRcqd_a.js" as="script"><link rel="prefetch" href="/assets/news.html-BKbuOWw8.js" as="script"><link rel="prefetch" href="/assets/index.html-BaIpwmef.js" as="script"><link rel="prefetch" href="/assets/api.html-Be0XO6CY.js" as="script"><link rel="prefetch" href="/assets/dns.html-BG_7sXtN.js" as="script"><link rel="prefetch" href="/assets/fakedns.html-BtlDOJaV.js" as="script"><link rel="prefetch" href="/assets/inbound.html-m-PZrYX9.js" as="script"><link rel="prefetch" href="/assets/log.html-BpaUhBqC.js" as="script"><link rel="prefetch" href="/assets/metrics.html-qGm_Mdtt.js" as="script"><link rel="prefetch" href="/assets/observatory.html-DIZZOanV.js" as="script"><link rel="prefetch" href="/assets/outbound.html-Y6RAy51y.js" as="script"><link rel="prefetch" href="/assets/policy.html-CTTqspGr.js" as="script"><link rel="prefetch" href="/assets/reverse.html-B81R5YXR.js" as="script"><link rel="prefetch" href="/assets/routing.html-D4Dy-1Ke.js" as="script"><link rel="prefetch" href="/assets/stats.html-B16ESsEj.js" as="script"><link rel="prefetch" href="/assets/transport.html-BrxlsABY.js" as="script"><link rel="prefetch" href="/assets/index.html-DJ4bgupy.js" as="script"><link rel="prefetch" href="/assets/index.html-Cch6k3md.js" as="script"><link rel="prefetch" href="/assets/command.html-CP1zyBSo.js" as="script"><link rel="prefetch" href="/assets/config.html-BUJoRIEy.js" as="script"><link rel="prefetch" href="/assets/document.html-DQ9L5_00.js" as="script"><link rel="prefetch" href="/assets/install.html-BdbIavFv.js" as="script"><link rel="prefetch" href="/assets/index.html-CRrfeTfg.js" as="script"><link rel="prefetch" href="/assets/index.html-Cxq2GSBi.js" as="script"><link rel="prefetch" href="/assets/browser_dialer.html-C1Rvk8BO.js" as="script"><link rel="prefetch" href="/assets/env.html-DhnKNIU0.js" as="script"><link rel="prefetch" href="/assets/fallback.html-Bracz7IQ.js" as="script"><link rel="prefetch" href="/assets/multiple.html-BNxK_aDh.js" as="script"><link rel="prefetch" href="/assets/xtls.html-gnsycK5p.js" as="script"><link rel="prefetch" href="/assets/dokodemo.html-CBsZXwNm.js" as="script"><link rel="prefetch" href="/assets/http.html-Dku67dbH.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-Dz8JiP2K.js" as="script"><link rel="prefetch" href="/assets/socks.html-DUCRCHcP.js" as="script"><link rel="prefetch" href="/assets/trojan.html-BbFDcl15.js" as="script"><link rel="prefetch" href="/assets/vless.html-C6bIri10.js" as="script"><link rel="prefetch" href="/assets/vmess.html-H2HnhnLz.js" as="script"><link rel="prefetch" href="/assets/blackhole.html-DG0v12EA.js" as="script"><link rel="prefetch" href="/assets/dns.html-Ru9x8bCa.js" as="script"><link rel="prefetch" href="/assets/freedom.html-Cbn2fhSI.js" as="script"><link rel="prefetch" href="/assets/http.html-CFDPGDji.js" as="script"><link rel="prefetch" href="/assets/loopback.html-DNDISWhd.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-CMtPwfTL.js" as="script"><link rel="prefetch" href="/assets/socks.html-Dqutn17F.js" as="script"><link rel="prefetch" href="/assets/trojan.html-CIgbnRc4.js" as="script"><link rel="prefetch" href="/assets/vless.html-CSlxE0Xz.js" as="script"><link rel="prefetch" href="/assets/vmess.html-BmSnhpW9.js" as="script"><link rel="prefetch" href="/assets/wireguard.html-tX2XpDWL.js" as="script"><link rel="prefetch" href="/assets/domainsocket.html-BMR8D_Bq.js" as="script"><link rel="prefetch" href="/assets/grpc.html-C6xO2Vss.js" as="script"><link rel="prefetch" href="/assets/h2.html-CTyvIhVs.js" as="script"><link rel="prefetch" href="/assets/httpupgrade.html-C3q_kekQ.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-Wt-nbXwg.js" as="script"><link rel="prefetch" href="/assets/quic.html-Yfs00VNn.js" as="script"><link rel="prefetch" href="/assets/splithttp.html-e3A--dS_.js" as="script"><link rel="prefetch" href="/assets/tcp.html-ChCpqD6N.js" as="script"><link rel="prefetch" href="/assets/websocket.html-CRiPWJLF.js" as="script"><link rel="prefetch" href="/assets/compile.html-qCsCHGMX.js" as="script"><link rel="prefetch" href="/assets/design.html-WL4iGRwM.js" as="script"><link rel="prefetch" href="/assets/guide.html-Dy-R-Pot.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-BCAc3e2L.js" as="script"><link rel="prefetch" href="/assets/muxcool.html-BT0Iiv4h.js" as="script"><link rel="prefetch" href="/assets/vless.html-DiBFAKbC.js" as="script"><link rel="prefetch" href="/assets/vmess.html-CkK6nGXP.js" as="script"><link rel="prefetch" href="/assets/index.html-Da-cYU_j.js" as="script"><link rel="prefetch" href="/assets/ch01-preface.html-Jg_DMjiL.js" as="script"><link rel="prefetch" href="/assets/ch02-preparation.html-yR6TpO9U.js" as="script"><link rel="prefetch" href="/assets/ch03-ssh.html-BNmIM449.js" as="script"><link rel="prefetch" href="/assets/ch04-security.html-CjEWIrdD.js" as="script"><link rel="prefetch" href="/assets/ch05-webpage.html-DIpbKUZo.js" as="script"><link rel="prefetch" href="/assets/ch06-certificates.html-ZiX0_l5E.js" as="script"><link rel="prefetch" href="/assets/ch07-xray-server.html-BcoY-sDQ.js" as="script"><link rel="prefetch" href="/assets/ch08-xray-clients.html-DZ1wj6sN.js" as="script"><link rel="prefetch" href="/assets/ch09-appendix.html-DnEmZa3A.js" as="script"><link rel="prefetch" href="/assets/index.html-BlLDd30l.js" as="script"><link rel="prefetch" href="/assets/fallbacks-lv1.html-7KZ8uO_F.js" as="script"><link rel="prefetch" href="/assets/fallbacks-with-sni.html-DT_xWYcW.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part1.html-Bc7H844n.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part2.html-CuMI3_xh.js" as="script"><link rel="prefetch" href="/assets/work.html-GFp9BB7m.js" as="script"><link rel="prefetch" href="/assets/index.html-CaZJ9_B8.js" as="script"><link rel="prefetch" href="/assets/iptables_gid.html-bQ0BWRJQ.js" as="script"><link rel="prefetch" href="/assets/nginx_or_haproxy_tls_tunnel.html-BQAP15YS.js" as="script"><link rel="prefetch" href="/assets/redirect.html-DwfvF1nB.js" as="script"><link rel="prefetch" href="/assets/tproxy.html-DzbqDTNM.js" as="script"><link rel="prefetch" href="/assets/tproxy_ipv4_and_ipv6.html-QFxGIRBw.js" as="script"><link rel="prefetch" href="/assets/traffic_stats.html-BDmL7Tdr.js" as="script"><link rel="prefetch" href="/assets/warp.html-SW68pYBE.js" as="script"><link rel="prefetch" href="/assets/news.html-1oObB2Ll.js" as="script"><link rel="prefetch" href="/assets/index.html-RFWpJ1W5.js" as="script"><link rel="prefetch" href="/assets/api.html-Bmn5I4iF.js" as="script"><link rel="prefetch" href="/assets/dns.html-BPyHihvl.js" as="script"><link rel="prefetch" href="/assets/fakedns.html-CQMI7P5f.js" as="script"><link rel="prefetch" href="/assets/inbound.html-CkjXXGa6.js" as="script"><link rel="prefetch" href="/assets/log.html-q8iIMi9J.js" as="script"><link rel="prefetch" href="/assets/metrics.html-0ZbqKVrY.js" as="script"><link rel="prefetch" href="/assets/outbound.html-DJXg1C8W.js" as="script"><link rel="prefetch" href="/assets/policy.html-Brmn2EOi.js" as="script"><link rel="prefetch" href="/assets/reverse.html-BsHrn6bI.js" as="script"><link rel="prefetch" href="/assets/routing.html-CsUTenLP.js" as="script"><link rel="prefetch" href="/assets/stats.html-DUA-qQA-.js" as="script"><link rel="prefetch" href="/assets/transport.html-cBQO3iTr.js" as="script"><link rel="prefetch" href="/assets/index.html-wYo-9tKi.js" as="script"><link rel="prefetch" href="/assets/index.html-BcjyzXZx.js" as="script"><link rel="prefetch" href="/assets/command.html-32Y3PrJH.js" as="script"><link rel="prefetch" href="/assets/config.html-qDvQ_-w2.js" as="script"><link rel="prefetch" href="/assets/document.html-DrbyoyVH.js" as="script"><link rel="prefetch" href="/assets/install.html-B9vTRD_y.js" as="script"><link rel="prefetch" href="/assets/news.html-BzL75Aip.js" as="script"><link rel="prefetch" href="/assets/index.html-DmwwNQzV.js" as="script"><link rel="prefetch" href="/assets/api.html-V07Tf6g_.js" as="script"><link rel="prefetch" href="/assets/dns.html-DOl-m2Lo.js" as="script"><link rel="prefetch" href="/assets/fakedns.html-CvceMFG6.js" as="script"><link rel="prefetch" href="/assets/inbound.html-DySw0K1R.js" as="script"><link rel="prefetch" href="/assets/log.html-CiLuC4Ox.js" as="script"><link rel="prefetch" href="/assets/metrics.html-1dn-4xkf.js" as="script"><link rel="prefetch" href="/assets/observatory.html-CIYADeG1.js" as="script"><link rel="prefetch" href="/assets/outbound.html-BaZFBjWi.js" as="script"><link rel="prefetch" href="/assets/policy.html-C5f4JcjY.js" as="script"><link rel="prefetch" href="/assets/reverse.html-BziaB0Zx.js" as="script"><link rel="prefetch" href="/assets/routing.html-CnGoN68J.js" as="script"><link rel="prefetch" href="/assets/stats.html-CM9uNaP2.js" as="script"><link rel="prefetch" href="/assets/transport.html-DhKPFzxQ.js" as="script"><link rel="prefetch" href="/assets/index.html-H-GsNQP-.js" as="script"><link rel="prefetch" href="/assets/index.html-BUepgtOm.js" as="script"><link rel="prefetch" href="/assets/command.html-D-NsFdIv.js" as="script"><link rel="prefetch" href="/assets/config.html-DD65dFE7.js" as="script"><link rel="prefetch" href="/assets/document.html-aPQq_FBi.js" as="script"><link rel="prefetch" href="/assets/install.html-dW312sG7.js" as="script"><link rel="prefetch" href="/assets/transparent_proxy.html-CpiYpQ07.js" as="script"><link rel="prefetch" href="/assets/browser_dialer.html-Dbu0k7sF.js" as="script"><link rel="prefetch" href="/assets/env.html-BZ16DQoC.js" as="script"><link rel="prefetch" href="/assets/fallback.html-CnaDxsgx.js" as="script"><link rel="prefetch" href="/assets/multiple.html-Cc-YmcHq.js" as="script"><link rel="prefetch" href="/assets/xtls.html-DeJCr1Jo.js" as="script"><link rel="prefetch" href="/assets/dokodemo.html-qesLE3i7.js" as="script"><link rel="prefetch" href="/assets/http.html-BxzRkyHc.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-CEnEKyvM.js" as="script"><link rel="prefetch" href="/assets/socks.html-NC5gq_B0.js" as="script"><link rel="prefetch" href="/assets/trojan.html-Bhk9tk9t.js" as="script"><link rel="prefetch" href="/assets/vless.html-CdZg3zKb.js" as="script"><link rel="prefetch" href="/assets/vmess.html-D9uzfrYD.js" as="script"><link rel="prefetch" href="/assets/blackhole.html-CTsjC_2X.js" as="script"><link rel="prefetch" href="/assets/dns.html-DWxZFVG7.js" as="script"><link rel="prefetch" href="/assets/freedom.html-D1HQDhb3.js" as="script"><link rel="prefetch" href="/assets/http.html-BKrH35a1.js" as="script"><link rel="prefetch" href="/assets/loopback.html-B48OB1Yn.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-DpY9JuaV.js" as="script"><link rel="prefetch" href="/assets/socks.html-Dkr_WUFa.js" as="script"><link rel="prefetch" href="/assets/trojan.html-DTmM1anV.js" as="script"><link rel="prefetch" href="/assets/vless.html-CiLO6QTW.js" as="script"><link rel="prefetch" href="/assets/vmess.html-Dyk715uU.js" as="script"><link rel="prefetch" href="/assets/wireguard.html-CO3Db75D.js" as="script"><link rel="prefetch" href="/assets/domainsocket.html-3d53hkVl.js" as="script"><link rel="prefetch" href="/assets/grpc.html-CE4T4ALY.js" as="script"><link rel="prefetch" href="/assets/h2.html-B6WeU2cQ.js" as="script"><link rel="prefetch" href="/assets/httpupgrade.html-CSlsvfXy.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-V3XXiZz_.js" as="script"><link rel="prefetch" href="/assets/quic.html-CmpM77Ya.js" as="script"><link rel="prefetch" href="/assets/splithttp.html-fu48IN_X.js" as="script"><link rel="prefetch" href="/assets/tcp.html-CrLF291Q.js" as="script"><link rel="prefetch" href="/assets/websocket.html-CwxJ97UP.js" as="script"><link rel="prefetch" href="/assets/compile.html-CDsSdqaU.js" as="script"><link rel="prefetch" href="/assets/design.html-Bz5ESW5y.js" as="script"><link rel="prefetch" href="/assets/guide.html-DCkBpVyL.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-_QDwnfG0.js" as="script"><link rel="prefetch" href="/assets/muxcool.html-D67KNqYY.js" as="script"><link rel="prefetch" href="/assets/vless.html-DzWYLS00.js" as="script"><link rel="prefetch" href="/assets/vmess.html-Bs_kvI9d.js" as="script"><link rel="prefetch" href="/assets/index.html-BgN1f3hg.js" as="script"><link rel="prefetch" href="/assets/ch01-preface.html-BwV5ZLGl.js" as="script"><link rel="prefetch" href="/assets/ch02-preparation.html-AoKm6Ikx.js" as="script"><link rel="prefetch" href="/assets/ch03-ssh.html-H-X0qoTg.js" as="script"><link rel="prefetch" href="/assets/ch04-security.html-B9MApJeT.js" as="script"><link rel="prefetch" href="/assets/ch05-webpage.html-DIrGiWyI.js" as="script"><link rel="prefetch" href="/assets/ch06-certificates.html-FSS6fhaG.js" as="script"><link rel="prefetch" href="/assets/ch08-xray-clients.html-BG6D-WTM.js" as="script"><link rel="prefetch" href="/assets/ch09-appendix.html-B02Gb7bn.js" as="script"><link rel="prefetch" href="/assets/index.html-DTXDBuGT.js" as="script"><link rel="prefetch" href="/assets/fallbacks-lv1.html-Bd8cyjQE.js" as="script"><link rel="prefetch" href="/assets/fallbacks-with-sni.html-yDAB-Odc.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part1.html-LJ-Cf-_h.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part2.html-Sx097jto.js" as="script"><link rel="prefetch" href="/assets/work.html-feEzCOTA.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw5epgqc.js" as="script"><link rel="prefetch" href="/assets/iptables_gid.html-EFRbAOZa.js" as="script"><link rel="prefetch" href="/assets/nginx_or_haproxy_tls_tunnel.html-b6U9PyqW.js" as="script"><link rel="prefetch" href="/assets/redirect.html-BvYTFoLN.js" as="script"><link rel="prefetch" href="/assets/tproxy.html-DIBoYqbO.js" as="script"><link rel="prefetch" href="/assets/tproxy_ipv4_and_ipv6.html-beL5Se_s.js" as="script"><link rel="prefetch" href="/assets/traffic_stats.html-C4jy2mzk.js" as="script"><link rel="prefetch" href="/assets/warp.html-DxPOeK9L.js" as="script"><link rel="prefetch" href="/assets/browser_dialer.html-BjvFPrjw.js" as="script"><link rel="prefetch" href="/assets/env.html-B-GBpMlL.js" as="script"><link rel="prefetch" href="/assets/fallback.html-qS8ddxCN.js" as="script"><link rel="prefetch" href="/assets/multiple.html-BKwgv1TE.js" as="script"><link rel="prefetch" href="/assets/xtls.html-TFtt00VK.js" as="script"><link rel="prefetch" href="/assets/dokodemo.html-BzSF_VRw.js" as="script"><link rel="prefetch" href="/assets/http.html-D18aL58i.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html--y5tGIoW.js" as="script"><link rel="prefetch" href="/assets/socks.html-B3FouYNe.js" as="script"><link rel="prefetch" href="/assets/trojan.html-JGOCQYbB.js" as="script"><link rel="prefetch" href="/assets/vless.html-B-x3PmN6.js" as="script"><link rel="prefetch" href="/assets/vmess.html-B6Kl4a6-.js" as="script"><link rel="prefetch" href="/assets/blackhole.html-D42OQvvJ.js" as="script"><link rel="prefetch" href="/assets/dns.html-BLDgRbju.js" as="script"><link rel="prefetch" href="/assets/freedom.html-ClC8L2Nn.js" as="script"><link rel="prefetch" href="/assets/http.html-CoFeuLBR.js" as="script"><link rel="prefetch" href="/assets/loopback.html-2ZJXDxZL.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-BL1taEoN.js" as="script"><link rel="prefetch" href="/assets/socks.html-g9mWMv0E.js" as="script"><link rel="prefetch" href="/assets/trojan.html-qHZl_-ev.js" as="script"><link rel="prefetch" href="/assets/vless.html-kXWdqFYm.js" as="script"><link rel="prefetch" href="/assets/vmess.html-muimE7iV.js" as="script"><link rel="prefetch" href="/assets/wireguard.html-DPR6v41g.js" as="script"><link rel="prefetch" href="/assets/domainsocket.html-QpmZmXqQ.js" as="script"><link rel="prefetch" href="/assets/grpc.html-DEDPd8Fx.js" as="script"><link rel="prefetch" href="/assets/h2.html-BpD-3oDy.js" as="script"><link rel="prefetch" href="/assets/httpupgrade.html-D4stZB_B.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-DrA5BQfL.js" as="script"><link rel="prefetch" href="/assets/quic.html-B6G1-dhI.js" as="script"><link rel="prefetch" href="/assets/splithttp.html-DqwHi2BY.js" as="script"><link rel="prefetch" href="/assets/tcp.html-CB49p_WE.js" as="script"><link rel="prefetch" href="/assets/websocket.html-BXXi8E2S.js" as="script"><link rel="prefetch" href="/assets/compile.html-msvoAeoF.js" as="script"><link rel="prefetch" href="/assets/design.html-Cis1pPrc.js" as="script"><link rel="prefetch" href="/assets/guide.html-C_hZeCS_.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-CeqjpnmU.js" as="script"><link rel="prefetch" href="/assets/muxcool.html-DV1rWrjs.js" as="script"><link rel="prefetch" href="/assets/vless.html-RaT4YTrj.js" as="script"><link rel="prefetch" href="/assets/vmess.html-MS0ryPPc.js" as="script"><link rel="prefetch" href="/assets/index.html-BZCDNE_t.js" as="script"><link rel="prefetch" href="/assets/ch01-preface.html-BAZJAujx.js" as="script"><link rel="prefetch" href="/assets/ch02-preparation.html-Cyj1yxJF.js" as="script"><link rel="prefetch" href="/assets/ch03-ssh.html-QBLXWoX1.js" as="script"><link rel="prefetch" href="/assets/ch04-security.html-BTzzWrve.js" as="script"><link rel="prefetch" href="/assets/ch05-webpage.html-B4_luSdw.js" as="script"><link rel="prefetch" href="/assets/ch06-certificates.html-CpjZvDE-.js" as="script"><link rel="prefetch" href="/assets/ch07-xray-server.html-CvQFmiJE.js" as="script"><link rel="prefetch" href="/assets/ch08-xray-clients.html-7TJrAf46.js" as="script"><link rel="prefetch" href="/assets/ch09-appendix.html-DH1CzNZT.js" as="script"><link rel="prefetch" href="/assets/index.html-79vTT8wF.js" as="script"><link rel="prefetch" href="/assets/fallbacks-lv1.html-fA0jAtvv.js" as="script"><link rel="prefetch" href="/assets/fallbacks-with-sni.html-CCh8zpbO.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part1.html-DE7hADcO.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part2.html-CL_6hX4Z.js" as="script"><link rel="prefetch" href="/assets/work.html-CVHXjIAD.js" as="script"><link rel="prefetch" href="/assets/index.html-C_dOJfBx.js" as="script"><link rel="prefetch" href="/assets/iptables_gid.html-rMx4gk2b.js" as="script"><link rel="prefetch" href="/assets/nginx_or_haproxy_tls_tunnel.html-OcuxqiO6.js" as="script"><link rel="prefetch" href="/assets/redirect.html-BcQ8kDA8.js" as="script"><link rel="prefetch" href="/assets/tproxy.html-W-iLFS0i.js" as="script"><link rel="prefetch" href="/assets/tproxy_ipv4_and_ipv6.html-BdeilWai.js" as="script"><link rel="prefetch" href="/assets/traffic_stats.html-SV56T4uK.js" as="script"><link rel="prefetch" href="/assets/warp.html-Jgoyo1f0.js" as="script"><link rel="prefetch" href="/assets/transparent_proxy.html-8zbOdxEH.js" as="script"><link rel="prefetch" href="/assets/transparent_proxy.html-B3KRKMOj.js" as="script"><link rel="prefetch" href="/assets/404.html-o_CLTlSD.js" as="script"><link rel="prefetch" href="/assets/observatory.html-Bf9r_Wd3.js" as="script"><link rel="prefetch" href="/assets/Mermaid-BuZqusYZ.js" as="script"><link rel="prefetch" href="/assets/Tab-Defllf1Q.js" as="script"><link rel="prefetch" href="/assets/Tabs-CT3GnwBD.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle side bar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/en/" class=""><!----><span class="site-name" aria-hidden="true">Project X</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a href="/en" class="router-link-active" aria-label="Homepage"><!--[--><!--]--> Homepage <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/about/news.md" class="" aria-label="Website History"><!--[--><!--]--> Website History <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/config/" class="" aria-label="Config Reference"><!--[--><!--]--> Config Reference <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/development/" class="" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/document/" class="router-link-active" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="English / Change language"><span class="title">ğŸŒ English / Change language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="English / Change language"><span class="title">ğŸŒ English / Change language</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/document/level-0/ch07-xray-server.html" class="" aria-label="ç®€ä½“ä¸­æ–‡"><!--[--><!--]--> ç®€ä½“ä¸­æ–‡ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English (WIP)"><!--[--><!--]--> English (WIP) <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ru/document/level-0/ch07-xray-server.html" class="" aria-label="Ğ ÑƒÑÑĞºĞ¸Ğ¹ (WIP)"><!--[--><!--]--> Ğ ÑƒÑÑĞºĞ¸Ğ¹ (WIP) <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/xtls/xray-core" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a href="/en" class="router-link-active" aria-label="Homepage"><!--[--><!--]--> Homepage <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/about/news.md" class="" aria-label="Website History"><!--[--><!--]--> Website History <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/config/" class="" aria-label="Config Reference"><!--[--><!--]--> Config Reference <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/development/" class="" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/document/" class="router-link-active" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="English / Change language"><span class="title">ğŸŒ English / Change language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="English / Change language"><span class="title">ğŸŒ English / Change language</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/document/level-0/ch07-xray-server.html" class="" aria-label="ç®€ä½“ä¸­æ–‡"><!--[--><!--]--> ç®€ä½“ä¸­æ–‡ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English (WIP)"><!--[--><!--]--> English (WIP) <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ru/document/level-0/ch07-xray-server.html" class="" aria-label="Ğ ÑƒÑÑĞºĞ¸Ğ¹ (WIP)"><!--[--><!--]--> Ğ ÑƒÑÑĞºĞ¸Ğ¹ (WIP) <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/xtls/xray-core" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Quick Start <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/en/document/" class="router-link-active sidebar-item" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a><!----></li><li><a href="/en/document/install.html" class="sidebar-item" aria-label="Download and Install"><!--[--><!--]--> Download and Install <!--[--><!--]--></a><!----></li><li><a href="/en/document/config.html" class="sidebar-item" aria-label="Configure and Run"><!--[--><!--]--> Configure and Run <!--[--><!--]--></a><!----></li><li><a href="/en/document/command.html" class="sidebar-item" aria-label="Command Parameters"><!--[--><!--]--> Command Parameters <!--[--><!--]--></a><!----></li><li><a href="/en/document/document.html" class="sidebar-item" aria-label="Contribute to Project X&#39;s Document"><!--[--><!--]--> Contribute to Project X&#39;s Document <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Beginner Tutorial <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/en/document/level-0/" class="router-link-active sidebar-item" aria-label="Plain and Simple Language"><!--[--><!--]--> Plain and Simple Language <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-0/ch01-preface.html" class="sidebar-item" aria-label="[Chapter 1] Simple and Plain Language"><!--[--><!--]--> [Chapter 1] Simple and Plain Language <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-0/ch02-preparation.html" class="sidebar-item" aria-label="[Chapter 2] Preparation of Raw Materials"><!--[--><!--]--> [Chapter 2] Preparation of Raw Materials <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-0/ch03-ssh.html" class="sidebar-item" aria-label="[Chapter 3] Remote Login"><!--[--><!--]--> [Chapter 3] Remote Login <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-0/ch04-security.html" class="sidebar-item" aria-label="[Chapter 4] Security and Protection"><!--[--><!--]--> [Chapter 4] Security and Protection <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-0/ch05-webpage.html" class="sidebar-item" aria-label="Chapter 5: Website Building"><!--[--><!--]--> Chapter 5: Website Building <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-0/ch06-certificates.html" class="sidebar-item" aria-label="[Chapter 6] Certificate Management"><!--[--><!--]--> [Chapter 6] Certificate Management <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="ã€ç¬¬ 7 ç« ã€‘Xray æœåŠ¡å™¨ç¯‡"><!--[--><!--]--> ã€ç¬¬ 7 ç« ã€‘Xray æœåŠ¡å™¨ç¯‡ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-1-åšè§‚è€Œçº¦å–-åšç§¯è€Œè–„å‘" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.1 åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘"><!--[--><!--]--> 7.1 åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-2-å®‰è£…-xray" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.2 å®‰è£… Xray"><!--[--><!--]--> 7.2 å®‰è£… Xray <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-3-ç»™-xray-é…ç½®-tls-è¯ä¹¦" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.3 ç»™ Xray é…ç½® TLS è¯ä¹¦"><!--[--><!--]--> 7.3 ç»™ Xray é…ç½® TLS è¯ä¹¦ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-4-é…ç½®-xray" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.4 é…ç½® Xray"><!--[--><!--]--> 7.4 é…ç½® Xray <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-5-å¯åŠ¨-xray-æœåŠ¡-å¹¶æŸ¥çœ‹æœåŠ¡çŠ¶æ€" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.5 å¯åŠ¨ Xray æœåŠ¡ï¼ï¼ï¼ˆå¹¶æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼‰"><!--[--><!--]--> 7.5 å¯åŠ¨ Xray æœåŠ¡ï¼ï¼ï¼ˆå¹¶æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼‰ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-6-å›é¡¾-systemd-è¿›è¡ŒåŸºæœ¬çš„æœåŠ¡ç®¡ç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.6 å›é¡¾ systemd è¿›è¡ŒåŸºæœ¬çš„æœåŠ¡ç®¡ç†"><!--[--><!--]--> 7.6 å›é¡¾ systemd è¿›è¡ŒåŸºæœ¬çš„æœåŠ¡ç®¡ç† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-7-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸€-å¼€å¯-bbr" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.7 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸€ï¼šå¼€å¯ BBR"><!--[--><!--]--> 7.7 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸€ï¼šå¼€å¯ BBR <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-8-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒ-å¼€å¯-http-è‡ªåŠ¨è·³è½¬-https" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.8 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒï¼šå¼€å¯ HTTP è‡ªåŠ¨è·³è½¬ HTTPS"><!--[--><!--]--> 7.8 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒï¼šå¼€å¯ HTTP è‡ªåŠ¨è·³è½¬ HTTPS <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-9-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸‰-æ›´ä¸°å¯Œçš„å›è½" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.9 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸‰ï¼šæ›´ä¸°å¯Œçš„å›è½"><!--[--><!--]--> 7.9 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸‰ï¼šæ›´ä¸°å¯Œçš„å›è½ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-10-ä½ çš„è¿›åº¦" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.10 ä½ çš„è¿›åº¦"><!--[--><!--]--> 7.10 ä½ çš„è¿›åº¦ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/document/level-0/ch07-xray-server.html#_7-11-é‡è¦å‹˜è¯¯" class="router-link-active router-link-exact-active sidebar-item" aria-label="7.11 é‡è¦å‹˜è¯¯"><!--[--><!--]--> 7.11 é‡è¦å‹˜è¯¯ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/en/document/level-0/ch08-xray-clients.html" class="sidebar-item" aria-label="ã€ç¬¬ 8 ç« ã€‘Xray å®¢æˆ·ç«¯ç¯‡"><!--[--><!--]--> ã€ç¬¬ 8 ç« ã€‘Xray å®¢æˆ·ç«¯ç¯‡ <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-0/ch09-appendix.html" class="sidebar-item" aria-label="ã€ç¬¬ 9 ç« ã€‘é™„å½•"><!--[--><!--]--> ã€ç¬¬ 9 ç« ã€‘é™„å½• <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Getting Started Tips <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/en/document/level-1/" class="sidebar-item" aria-label="Beginner&#39;s Tips"><!--[--><!--]--> Beginner&#39;s Tips <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-1/fallbacks-lv1.html" class="sidebar-item" aria-label="å›è½ (fallbacks) åŠŸèƒ½ç®€æ"><!--[--><!--]--> å›è½ (fallbacks) åŠŸèƒ½ç®€æ <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-1/routing-lv1-part1.html" class="sidebar-item" aria-label="è·¯ç”± (routing) åŠŸèƒ½ç®€æï¼ˆä¸Šï¼‰"><!--[--><!--]--> è·¯ç”± (routing) åŠŸèƒ½ç®€æï¼ˆä¸Šï¼‰ <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-1/routing-lv1-part2.html" class="sidebar-item" aria-label="è·¯ç”± (routing) åŠŸèƒ½ç®€æï¼ˆä¸‹ï¼‰"><!--[--><!--]--> è·¯ç”± (routing) åŠŸèƒ½ç®€æï¼ˆä¸‹ï¼‰ <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-1/work.html" class="sidebar-item" aria-label="Xray çš„å·¥ä½œæ¨¡å¼"><!--[--><!--]--> Xray çš„å·¥ä½œæ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-1/fallbacks-with-sni.html" class="sidebar-item" aria-label="SNI fallback"><!--[--><!--]--> SNI fallback <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Advanced Documentation <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/en/document/level-2/" class="sidebar-item" aria-label="Advanced Documentation"><!--[--><!--]--> Advanced Documentation <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-2/transparent_proxy/transparent_proxy.html" class="sidebar-item" aria-label="é€æ˜ä»£ç†å…¥é—¨"><!--[--><!--]--> é€æ˜ä»£ç†å…¥é—¨ <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-2/tproxy.html" class="sidebar-item" aria-label="TProxy é€æ˜ä»£ç†"><!--[--><!--]--> TProxy é€æ˜ä»£ç† <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-2/tproxy_ipv4_and_ipv6.html" class="sidebar-item" aria-label="TProxy é€æ˜ä»£ç† (ipv4 and ipv6)"><!--[--><!--]--> TProxy é€æ˜ä»£ç† (ipv4 and ipv6) <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-2/nginx_or_haproxy_tls_tunnel.html" class="sidebar-item" aria-label="Nginx æˆ– Haproxy æ­å»º TLS éš§é“éšè—æŒ‡çº¹"><!--[--><!--]--> Nginx æˆ– Haproxy æ­å»º TLS éš§é“éšè—æŒ‡çº¹ <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-2/iptables_gid.html" class="sidebar-item" aria-label="Transparent proxy via GID"><!--[--><!--]--> Transparent proxy via GID <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-2/redirect.html" class="sidebar-item" aria-label="å‡ºç«™æµé‡é‡å®šå‘"><!--[--><!--]--> å‡ºç«™æµé‡é‡å®šå‘ <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-2/warp.html" class="sidebar-item" aria-label="Enhancing Proxy Security with Cloudflare Warp"><!--[--><!--]--> Enhancing Proxy Security with Cloudflare Warp <!--[--><!--]--></a><!----></li><li><a href="/en/document/level-2/traffic_stats.html" class="sidebar-item" aria-label="æµé‡ç»Ÿè®¡"><!--[--><!--]--> æµé‡ç»Ÿè®¡ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><div class="custom-container hint-container warning"><p class="custom-container-title hint-container-title">Warning</p><!--eslint-disable-next-line vue/no-v-html --><p>This translation was modified on 4 March 2023 and an updated version (10 May 2024) is available on the source page. <a href="/document/level-0/ch07-xray-server.html" target="_blank">View the original page</a></p></div><h1 id="ã€ç¬¬-7-ç« ã€‘xray-æœåŠ¡å™¨ç¯‡" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬-7-ç« ã€‘xray-æœåŠ¡å™¨ç¯‡"><span>ã€ç¬¬ 7 ç« ã€‘Xray æœåŠ¡å™¨ç¯‡</span></a></h1><h2 id="_7-1-åšè§‚è€Œçº¦å–-åšç§¯è€Œè–„å‘" tabindex="-1"><a class="header-anchor" href="#_7-1-åšè§‚è€Œçº¦å–-åšç§¯è€Œè–„å‘"><span>7.1 åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘</span></a></h2><p>æœ¬æ–‡æ’°å†™è¿‡ç¨‹ä¸­ï¼Œå¤§ä½¬å¼€ç©ç¬‘çš„åæ§½åˆ°ï¼šä½ è¿™æ•™ç¨‹ï¼Œå±…ç„¶è¿è½½äº† 6 ç« éƒ½è¿˜æ²¡åˆ° Xrayï¼Œä¸çŸ¥é“çš„è¿˜ä»¥ä¸ºä½ æ˜¯â€œæ‰‹æŠŠæ‰‹æ•™ä½ å»ºç½‘ç«™â€æ•™ç¨‹å‘¢ã€‚ï¼ˆæˆ‘ç«Ÿæ— æ³•åé©³.jpg!ï¼‰</p><p>å…¶å®è¿™æ ·çš„ç»“æ„æ˜¯æˆ‘å¤šç•ªæ€è€ƒä¹‹åçš„å†³å®šï¼Œæ¯•ç«Ÿåªæœ‰æ‰“å¥½åŸºç¡€ï¼Œæ‰èƒ½åœ¨åé¢äº‹åŠåŠŸå€å¿«é€Ÿåè¶…ã€‚æˆ‘åœ¨ç¾¤é‡Œçœ‹åˆ°è®¸å¤šæ–°äººè¿<code>nano</code>éƒ½æ— æ³•æ­£ç¡®ä½¿ç”¨ï¼Œä¹Ÿä¸ä¼šç”¨<code>WinSCP</code>ï¼Œè¿œç¨‹æ‰‹å†™ç¼–è¾‘å‡ºæ¥çš„<code>config.json</code>è‡ªç„¶é”™è¯¯ç™¾å‡ºï¼Œè¿æŸ¥é”™ä¹Ÿå˜å¾—ä¸¾æ­¥ç»´è‰°ã€‚</p><div class="custom-container warning"><p class="custom-container-title">Warning</p><p>ç»è¿‡äº†å‰ 6 ç« çš„å‡†å¤‡ï¼Œå„ä½å·²ç»è·Ÿæˆ‘ä¸€èµ·ç¿»è¶Šäº† Linux åŸºæœ¬æ“ä½œã€VPS è¿œç¨‹ç®¡ç†ã€ç½‘é¡µæ­å»ºã€åŸŸåç®¡ç†ã€è¯ä¹¦ç”³è¯·ç­‰ç­‰å‡ åº§å¤§å±±ã€‚æ˜¯ä¸æ˜¯å›å¤´çœ‹çœ‹ï¼Œè§‰å¾—å…¶å®éå¸¸ç®€å•å‘¢ï¼Ÿç°åœ¨æˆ‘ä»¬æœ‰äº†å¦‚æ­¤æ‰å®çš„å‡†å¤‡ï¼Œæ¥ä¸‹æ¥å®‰è£…å’Œé…ç½® Xray æ—¶ä¼šæœ‰ä¸€ç§ã€æ°´åˆ°æ¸ æˆã€‘çš„è½»å¿«æ„Ÿè§‰ã€‚</p></div><p>åé¢è¦åšçš„äº‹æƒ…éå¸¸ç®€å•ï¼š</p><ol><li>å®‰è£…</li><li>é…ç½®ï¼ˆå¦‚å®‰è£… TLS è¯ä¹¦ã€<code>config.json</code>ï¼‰</li><li>è¿è¡Œ</li><li>ä¼˜åŒ–ï¼ˆå¦‚æ›´æ–°å†…æ ¸ã€å¼€å¯<code>bbr</code>ã€ç½‘ç«™<code>http</code>è®¿é—®è‡ªåŠ¨è·³è½¬<code>https</code>ç­‰ï¼‰</li></ol><h2 id="_7-2-å®‰è£…-xray" tabindex="-1"><a class="header-anchor" href="#_7-2-å®‰è£…-xray"><span>7.2 å®‰è£… Xray</span></a></h2><p>é¦–å…ˆï¼ŒXray çš„å®˜æ–¹è½½ä½“ï¼Œå°±æ˜¯ <a href="https://github.com/XTLS/Xray-core" target="_blank" rel="noopener noreferrer">xray-core<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a> å¼€æºé¡¹ç›®ï¼ˆåŸºäº <code>MPL 2.0</code> å¼€æºåè®®ï¼‰ç”Ÿæˆçš„äºŒè¿›åˆ¶ç¨‹åºã€‚ä½ æŠŠè¿™ä¸ªäºŒè¿›åˆ¶æ”¾åœ¨æœåŠ¡å™¨è¿è¡Œï¼Œå®ƒå°±æ˜¯æœåŠ¡å™¨ç«¯ï¼›ä½ æŠŠå®ƒä¸‹è½½åˆ°æœ¬åœ°ç”µè„‘è¿è¡Œï¼Œå®ƒå°±æ˜¯å®¢æˆ·ç«¯ã€‚ä¸»è¦åŒºåˆ«æ¥æºäºã€é…ç½®ã€‘ã€‚</p><p>å®‰è£…æ—¶ï¼Œç›´æ¥ä½¿ç”¨å®˜æ–¹å®‰è£…è„šæœ¬å°±å¾ˆç®€å•ç›´æ¥ã€‚å®ƒæä¾›äº†å¤šç§å®‰è£…é€‰é¡¹ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»å®˜æ–¹çš„<a href="https://github.com/XTLS/Xray-install" target="_blank" rel="noopener noreferrer">å®‰è£…è„šæœ¬ä»“åº“<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a>ä¸­çœ‹çœ‹è„šæœ¬çš„è¯´æ˜ï¼Œ<strong>æœ¬æ–‡ä½¿ç”¨çš„æ˜¯ã€é root ç”¨æˆ·ã€‘å®‰è£…æ¨¡å¼</strong>ã€‚</p><p>å†™æœ¬æ–‡æ—¶ï¼Œå®‰è£…è„šæœ¬åœ¨ä½¿ç”¨é root è´¦æˆ·æ—¶æœ‰ä¸€äº›å° bugï¼Œæ‰€ä»¥æˆ‘å†³å®šæ­£å¥½æŠŠè¿™å‡ æ­¥åˆ†å¼€æ“ä½œï¼Œå¯ä»¥é¡ºä¾¿è¯´æ˜ä¸€ä¸‹ Linux ä¸‹çš„åˆ é™¤å‘½ä»¤ã€‚</p><ol><li><p>å°å°ç™½ç™½ Linux åŸºç¡€å‘½ä»¤ï¼š</p><table><thead><tr><th style="text-align:center;">ç¼–å·</th><th style="text-align:center;">å‘½ä»¤åç§°</th><th style="text-align:center;">å‘½ä»¤è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center;"><code>cmd-14</code></td><td style="text-align:center;"><code>rm</code></td><td style="text-align:center;">åˆ é™¤å‘½ä»¤</td></tr></tbody></table></li><li><p>å°†å®‰è£…è„šæœ¬ä¸‹è½½è‡³æœ¬åœ°ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://github.com/XTLS/Xray-install/raw/main/install-release.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>æ‰§è¡Œå®‰è£…å‘½ä»¤</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">bash</span> install-release.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨å®Œæˆä¹‹åå¯ä»¥åˆ é™¤è¯¥è„šæœ¬</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">rm</span> ~/install-release.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Warning</p><p>ä½¿ç”¨ <code>rm</code> å‘½ä»¤åˆ é™¤æ–‡ä»¶çš„æ—¶å€™ï¼Œé»˜è®¤å…¶å®å°±æ˜¯åˆ é™¤ç°åœ¨æ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œ<strong>æˆ‘ä¾ç„¶å†™äº†å®Œæ•´çš„è·¯å¾„</strong>ï¼š <code>~/install-release.sh</code>ï¼Œè¿™æ˜¯æˆ‘ä½¿ç”¨ <code>rm</code> æ—¶çš„ä¸€ä¸ªå®‰å…¨ä¹ æƒ¯ã€ä¹Ÿæ˜¯æˆ‘æŠŠå®‰è£…åˆ†æˆå‡ æ­¥ä¹‹åæƒ³å¼ºè°ƒä¸€ä¸‹çš„å†…å®¹ã€‚å¦‚æœä½ å¬è¿‡ä¸€äº›â€œç¨‹åºå‘˜ä»åˆ åº“åˆ°è·‘è·¯â€ä¹‹ç±»çš„æ®µå­ï¼Œå¤§æ¦‚å°±çŸ¥é“ä¸ºä»€ä¹ˆäº†ã€‚</p></div></li><li><p>å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="/assets/ch07-img01-xray-install-6RUithnp.gif" alt="XrayæœåŠ¡å™¨ç«¯å®‰è£…æµç¨‹æ¼”ç¤º"></p></li></ol><h2 id="_7-3-ç»™-xray-é…ç½®-tls-è¯ä¹¦" tabindex="-1"><a class="header-anchor" href="#_7-3-ç»™-xray-é…ç½®-tls-è¯ä¹¦"><span>7.3 ç»™ Xray é…ç½® TLS è¯ä¹¦</span></a></h2><p>è™½ç„¶æˆ‘ä»¬å‰é¢å·²ç»ç”³è¯·å¥½äº† TLS è¯ä¹¦ï¼Œä½†æ˜¯æŒ‰ç…§ <a href="https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E#3-copy%E5%AE%89%E8%A3%85-%E8%AF%81%E4%B9%A6" target="_blank" rel="noopener noreferrer"><code>acme.sh</code>çš„å®˜æ–¹è¯´æ˜<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a>ï¼Œç”³è¯·åçš„è¯ä¹¦ä¸å»ºè®®ç›´æ¥ä½¿ç”¨ã€‚æ­£ç¡®çš„æ–¹æ³•æ˜¯ä½¿ç”¨ <code>--install-cert</code> å‘½ä»¤å®‰è£…ç»™éœ€è¦çš„ç¨‹åºã€‚æˆ‘ä»¬ç°åœ¨å°±æ¥æŠŠè¯ä¹¦å®‰è£…ç»™ <code>xray-core</code> ä½¿ç”¨ã€‚</p><ol><li><p>ä¸ºäº†è§„é¿é root è´¦æˆ·çš„å„ç§æ½œåœ¨çš„æƒé™å›°æ‰°ï¼Œæˆ‘ä»¬åœ¨ vpsadmin è´¦æˆ·ä¸‹å»ºç«‹ä¸€ä¸ªè¯ä¹¦æ–‡ä»¶å¤¹</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> ~/xray_cert
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨<code>acme.sh</code>çš„<code>--install-cert</code>æ­£ç¡®å®‰è£…ï¼ˆæ‹·è´ï¼‰è¯ä¹¦æ–‡ä»¶</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>acme.sh --install-cert <span class="token parameter variable">-d</span> äºŒçº§åŸŸå.ä½ çš„åŸŸå.com <span class="token parameter variable">--ecc</span> <span class="token punctuation">\</span>
            --fullchain-file ~/xray_cert/xray.crt <span class="token punctuation">\</span>
            --key-file ~/xray_cert/xray.key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>xray.key</code>æ–‡ä»¶é»˜è®¤å¯¹å…¶ä»–ç”¨æˆ·ä¸å¯è¯»ï¼Œæ‰€ä»¥éœ€è¦èµ‹äºˆå…¶å¯è¯»æ€§æƒé™</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +r ~/xray_cert/xray.key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è¿‡ç¨‹æ¯”è¾ƒç®€å•å°±ä¸æ”¾åŠ¨å›¾äº†ï¼š</p><p><img src="/assets/ch07-img02-xray-cert-install-ByKnHBd1.png" alt="XrayæœåŠ¡å™¨ç«¯å®‰è£…æµç¨‹æ¼”ç¤º"></p></li><li><p><code>acme.sh</code> ä¼šæ¯ 60 å¤©æ£€æŸ¥ä¸€æ¬¡è¯ä¹¦å¹¶è‡ªåŠ¨æ›´æ–°ä¸´æœŸè¯ä¹¦ã€‚ä½†æ®æˆ‘æ‰€çŸ¥æ˜¯å®ƒå¹¶ä¸ä¼šè‡ªåŠ¨å°†æ–°è¯ä¹¦å®‰è£…ç»™ <code>xray-core</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ–°å¢ä¸€ä¸ªç³»ç»Ÿçš„è‡ªåŠ¨å‘¨æœŸä»»åŠ¡æ¥å®Œæˆè¿™ä¸€æ­¥ã€‚</p><ol><li>å°å°ç™½ç™½ Linux åŸºç¡€å‘½ä»¤ï¼š</li></ol><table><thead><tr><th style="text-align:center;">ç¼–å·</th><th style="text-align:center;">å‘½ä»¤åç§°</th><th style="text-align:center;">å‘½ä»¤è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center;"><code>cmd-15</code></td><td style="text-align:center;"><code>crontab -e</code></td><td style="text-align:center;">ç¼–è¾‘å½“å‰ç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡</td></tr></tbody></table><ol start="2"><li><p>å»ºç«‹ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼ˆ<code>xray-cert-renew.sh</code>ï¼‰</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">nano</span> ~/xray_cert/xray-cert-renew.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>æŠŠä¸‹é¢çš„å†…å®¹å¤åˆ¶è¿›å»ï¼Œè®°å¾—æ›¿æ¢ä½ çš„çœŸå®åŸŸåï¼Œç„¶åä¿å­˜é€€å‡º</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

/home/vpsadmin/.acme.sh/acme.sh --install-cert <span class="token parameter variable">-d</span> a-name.yourdomain.com <span class="token parameter variable">--ecc</span> --fullchain-file /home/vpsadmin/xray_cert/xray.crt --key-file /home/vpsadmin/xray_cert/xray.key
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Xray Certificates Renewed&quot;</span>

<span class="token function">chmod</span> +r /home/vpsadmin/xray_cert/xray.key
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Read Permission Granted for Private Key&quot;</span>

<span class="token function">sudo</span> systemctl restart xray
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Xray Restarted&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Warning</p><p>ç»å¤§å®¶æé†’ï¼Œ<code>acme.sh</code> æœ‰ä¸€ä¸ª <code>reloadcmd</code> å‘½ä»¤ï¼Œå¯ä»¥åœ¨è¯ä¹¦æ›´æ–°æ—¶è‡ªåŠ¨æ‰§è¡Œç‰¹å®šå‘½ä»¤ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŒ‡å®šè‡ªåŠ¨ç»™ <code>Xray</code> å®‰è£…è¯ä¹¦ï¼Œä½†å› ä¸º <code>crontab</code> æ˜¯ Linux ç³»ç»Ÿä¸­ä¸€ä¸ªéå¸¸æœ‰ç”¨ã€éå¸¸å¸¸ç”¨çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æœ¬æ–‡ä¿ç•™ <code>crontab</code> çš„æ–¹å¼æ¥æ›´æ–° <code>Xray</code> è¯ä¹¦ã€‚ï¼ˆå¯¹ <code>reloadcmd</code> æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æŸ¥çœ‹ <code>acme.sh</code> çš„<a href="https://github.com/acmesh-official/acme.sh" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a>ï¼‰</p><p>å¦å¤–ï¼Œå½•åˆ¶åŠ¨å›¾æ—¶ï¼Œè„šæœ¬ä¸­æ²¡æœ‰åŠ å…¥é‡å¯ <code>Xray</code> çš„å‘½ä»¤ï¼Œæ˜¯å› ä¸º <code>Xray</code> è®¡åˆ’æ”¯æŒã€è¯ä¹¦çƒ­æ›´æ–°ã€‘åŠŸèƒ½ï¼Œå³ <code>Xray</code> ä¼šè‡ªåŠ¨è¯†åˆ«è¯ä¹¦æ›´æ–°å¹¶é‡è½½è¯ä¹¦ã€æ— éœ€æ‰‹åŠ¨é‡å¯ã€‚å¾…åŠŸèƒ½åŠ å…¥åï¼Œæˆ‘å°†é€‚å½“ä¿®æ”¹ <code>config.json</code> å¼€å¯æ­¤è®¾ç½®ï¼Œå¹¶åˆ é™¤è„šæœ¬ä¸­çš„é‡å¯å‘½ä»¤ã€‚</p></div></li><li><p>ç»™è¿™ä¸ªæ–‡ä»¶å¢åŠ ã€å¯æ‰§è¡Œã€‘æƒé™</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>chmod +x ~/xray_cert/xray-cert-renew.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>è¿è¡Œ <code>crontab -e</code>ï¼Œæ·»åŠ ä¸€ä¸ªè‡ªåŠ¨ä»»åŠ¡ã€æ¯æœˆè‡ªåŠ¨è¿è¡Œä¸€æ¬¡<code>xray-cert-renew.sh</code>ã€‘ (æ³¨æ„ä¸è¦åŠ <code>sudo</code>ï¼Œå› ä¸ºæˆ‘ä»¬å¢åŠ çš„æ˜¯<code>vpsadmin</code> è´¦æˆ·çš„è‡ªåŠ¨ä»»åŠ¡ã€‚åˆæ¬¡è¿è¡Œæ—¶ä¼šè®©ä½ é€‰æ‹©ç¼–è¾‘å™¨ï¼Œå½“ç„¶æ˜¯é€‰æ‹©ç†Ÿæ‚‰çš„<code>nano</code>å•¦ï¼)</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">crontab</span> <span class="token parameter variable">-e</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>æŠŠä¸‹é¢çš„å†…å®¹å¢åŠ åœ¨æ–‡ä»¶æœ€åï¼Œä¿å­˜é€€å‡ºå³å¯ã€‚</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code># 1:00am, 1st day each month, run `xray-cert-renew.sh`
0 1 1 * *   bash /home/vpsadmin/xray_cert/xray-cert-renew.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="/assets/ch07-img03-crontab-cert-renew-B_dwSLtg.gif" alt="æ¯æœˆè‡ªåŠ¨ç»™Xrayå®‰è£…è¯ä¹¦"></p></li></ol></li></ol><h2 id="_7-4-é…ç½®-xray" tabindex="-1"><a class="header-anchor" href="#_7-4-é…ç½®-xray"><span>7.4 é…ç½® Xray</span></a></h2><p>é¦–å…ˆï¼Œå„ç§é…ç½®éƒ½å¯ä»¥å‚è€ƒ<a href="https://github.com/XTLS/Xray-examples" target="_blank" rel="noopener noreferrer">å®˜æ–¹ VLESS é…ç½®ç¤ºä¾‹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a>ã€‚æœ¬æ–‡ä¼šåŸºäºå®˜æ–¹ç¤ºä¾‹ï¼Œé…ç½®ä¸€ä¸ªæœ€ç²¾ç®€çš„æ–¹å¼ï¼šã€å• <code>VLESS</code> åè®®å…¥ç«™ + <code>80</code> ç«¯å£å›è½ã€‘ï¼Œæ»¡è¶³å¤§å¤šæ•°åœºæ™¯çš„æœ€å¤§é€Ÿåº¦åŠå¿…è¦å®‰å…¨ã€‚</p><ol><li><p>ç”Ÿæˆä¸€ä¸ªåˆæ³•çš„ <code>UUID</code> å¹¶ä¿å­˜å¤‡ç”¨ï¼ˆ<code>UUID</code>å¯ä»¥ç®€å•ç²—æš´çš„ç†è§£ä¸ºåƒæŒ‡çº¹ä¸€æ ·å‡ ä¹ä¸ä¼šé‡å¤çš„ IDï¼‰</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>xray uuid
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>å»ºç«‹æ—¥å¿—æ–‡ä»¶åŠæ–‡ä»¶å¤¹å¤‡ç”¨</p><ol><li><p>å°å°ç™½ç™½ Linux åŸºç¡€å‘½ä»¤ï¼š</p><table><thead><tr><th style="text-align:center;">ç¼–å·</th><th style="text-align:center;">å‘½ä»¤åç§°</th><th style="text-align:center;">å‘½ä»¤è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center;"><code>cmd-16</code></td><td style="text-align:center;"><code>touch</code></td><td style="text-align:center;">å»ºç«‹ç©ºç™½æ–‡ä»¶</td></tr></tbody></table></li><li><p>åœ¨<code>vpsadmin</code>çš„æ–‡ä»¶å¤¹å†…å»ºç«‹ä¸€ä¸ªã€æ—¥å¿—ä¸“ç”¨æ–‡ä»¶å¤¹ã€‘</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> ~/xray_log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ç”Ÿæˆæ‰€éœ€çš„ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ï¼ˆè®¿é—®æ—¥å¿—ã€é”™è¯¯æ—¥å¿—ï¼‰</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">touch</span> ~/xray_log/access.log <span class="token operator">&amp;&amp;</span> <span class="token function">touch</span> ~/xray_log/error.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Warning</p><p>è¿™ä¸ªä½ç½®ä¸æ˜¯<code>Xray</code>æ ‡å‡†çš„æ—¥å¿—æ–‡ä»¶ä½ç½®ï¼Œæ”¾åœ¨è¿™é‡Œæ˜¯é¿å…æƒé™é—®é¢˜å¯¹æ–°äººçš„æ“ä½œå¸¦æ¥å›°æ‰°ã€‚å½“ä½ ç†Ÿæ‚‰ä¹‹åï¼Œå»ºè®®å›å½’é»˜è®¤ä½ç½®ï¼š <code>/var/log/xray/access.log</code> å’Œ <code>/var/log/xray/error.log</code> ã€‚</p></div></li><li><p>å› ä¸º Xray é»˜è®¤æ˜¯ nobody ç”¨æˆ·ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©å…¶ä»–ç”¨æˆ·ä¹Ÿæœ‰â€œå†™â€çš„æƒé™ï¼ˆ<code>*.log</code> å°±æ˜¯æ‰€æœ‰æ–‡ä»¶åç¼€æ˜¯<code>log</code>çš„æ–‡ä»¶ï¼Œæ­¤æ—¶<code>CLI</code>ç•Œé¢çš„æ•ˆç‡ä¼˜åŠ¿å°±é€æ¸å‡ºç°äº†ï¼‰</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> a+w ~/xray_log/*.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol></li><li><p>ä½¿ç”¨<code>nano</code>åˆ›å»º<code>Xray</code>çš„é…ç½®æ–‡ä»¶</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /usr/local/etc/xray/config.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>å°†ä¸‹é¢çš„æ–‡ä»¶å…¨éƒ¨å¤åˆ¶è¿›å»ï¼Œå¹¶å°†ä¹‹å‰ç”Ÿæˆçš„<code>UUID</code>å¡«å…¥ç¬¬ 61 è¡Œ <code>&quot;id&quot;: &quot;&quot;,</code> ä¹‹ä¸­ã€‚ï¼ˆå¡«å¥½ä¹‹åçš„æ ·å­æ˜¯ <code>&quot;id&quot;: &quot;uuiduuid-uuid-uuid-uuid-uuiduuiduuid&quot;</code> ï¼‰ï¼Œæœ¬æ–‡çš„è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­å¢åŠ äº†æˆ‘çš„å„ç§å•°å—¦æ³¨è§£ï¼Œä»¥æ–¹ä¾¿ä½ ç†è§£æ¯ä¸€ä¸ªé…ç½®æ¨¡å—çš„åŠŸèƒ½æ˜¯ä»€ä¹ˆã€‚</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token comment">// REFERENCE:</span>
<span class="token comment">// https://github.com/XTLS/Xray-examples</span>
<span class="token comment">// https://xtls.github.io/config/</span>
<span class="token comment">// å¸¸ç”¨çš„ config æ–‡ä»¶ï¼Œä¸è®ºæœåŠ¡å™¨ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯ï¼Œéƒ½æœ‰ 5 ä¸ªéƒ¨åˆ†ã€‚å¤–åŠ å°å°ç™½è§£è¯»ï¼š</span>
<span class="token comment">// â”Œâ”€ 1*log æ—¥å¿—è®¾ç½® - æ—¥å¿—å†™ä»€ä¹ˆï¼Œå†™å“ªé‡Œï¼ˆå‡ºé”™æ—¶æœ‰æ®å¯æŸ¥ï¼‰</span>
<span class="token comment">// â”œâ”€ 2_dns DNS-è®¾ç½® - DNS æ€ä¹ˆæŸ¥ï¼ˆé˜² DNS æ±¡æŸ“ã€é˜²å·çª¥ã€é¿å…å›½å†…å¤–ç«™åŒ¹é…åˆ°å›½å¤–æœåŠ¡å™¨ç­‰ï¼‰</span>
<span class="token comment">// â”œâ”€ 3_routing åˆ†æµè®¾ç½® - æµé‡æ€ä¹ˆåˆ†ç±»å¤„ç†ï¼ˆæ˜¯å¦è¿‡æ»¤å¹¿å‘Šã€æ˜¯å¦å›½å†…å¤–åˆ†æµï¼‰</span>
<span class="token comment">// â”œâ”€ 4_inbounds å…¥ç«™è®¾ç½® - ä»€ä¹ˆæµé‡å¯ä»¥æµå…¥ Xray</span>
<span class="token comment">// â””â”€ 5_outbounds å‡ºç«™è®¾ç½® - æµå‡º Xray çš„æµé‡å¾€å“ªé‡Œå»</span>
<span class="token punctuation">{</span>
  <span class="token comment">// 1\_æ—¥å¿—è®¾ç½®</span>
  <span class="token property">&quot;log&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;loglevel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;warning&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å†…å®¹ä»å°‘åˆ°å¤š: &quot;none&quot;, &quot;error&quot;, &quot;warning&quot;, &quot;info&quot;, &quot;debug&quot;</span>
    <span class="token property">&quot;access&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/home/vpsadmin/xray_log/access.log&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è®¿é—®è®°å½•</span>
    <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/home/vpsadmin/xray_log/error.log&quot;</span> <span class="token comment">// é”™è¯¯è®°å½•</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 2_DNS è®¾ç½®</span>
  <span class="token property">&quot;dns&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;servers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;https+local://1.1.1.1/dns-query&quot;</span><span class="token punctuation">,</span> <span class="token comment">// é¦–é€‰ 1.1.1.1 çš„ DoH æŸ¥è¯¢ï¼Œç‰ºç‰²é€Ÿåº¦ä½†å¯é˜²æ­¢ ISP å·çª¥</span>
      <span class="token string">&quot;localhost&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 3*åˆ†æµè®¾ç½®</span>
  <span class="token property">&quot;routing&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;domainStrategy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IPIfNonMatch&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// 3.1 é˜²æ­¢æœåŠ¡å™¨æœ¬åœ°æµè½¬é—®é¢˜ï¼šå¦‚å†…ç½‘è¢«æ”»å‡»æˆ–æ»¥ç”¨ã€é”™è¯¯çš„æœ¬åœ°å›ç¯ç­‰</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;field&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ip&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;geoip:private&quot;</span> <span class="token comment">// åˆ†æµæ¡ä»¶ï¼šgeoip æ–‡ä»¶å†…ï¼Œåä¸º&quot;private&quot;çš„è§„åˆ™ï¼ˆæœ¬åœ°ï¼‰</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;outboundTag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;block&quot;</span> <span class="token comment">// åˆ†æµç­–ç•¥ï¼šäº¤ç»™å‡ºç«™&quot;block&quot;å¤„ç†ï¼ˆé»‘æ´å±è”½ï¼‰</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// 3.2 é˜²æ­¢æœåŠ¡å™¨ç›´è¿å›½å†…</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;field&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ip&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;geoip:cn&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;outboundTag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;block&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 3.3 å±è”½å¹¿å‘Š</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;field&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;domain&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;geosite:category-ads-all&quot;</span> <span class="token comment">// åˆ†æµæ¡ä»¶ï¼šgeosite æ–‡ä»¶å†…ï¼Œåä¸º&quot;category-ads-all&quot;çš„è§„åˆ™ï¼ˆå„ç§å¹¿å‘ŠåŸŸåï¼‰</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;outboundTag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;block&quot;</span> <span class="token comment">// åˆ†æµç­–ç•¥ï¼šäº¤ç»™å‡ºç«™&quot;block&quot;å¤„ç†ï¼ˆé»‘æ´å±è”½ï¼‰</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 4*å…¥ç«™è®¾ç½®</span>
  <span class="token comment">// 4.1 è¿™é‡Œåªå†™äº†ä¸€ä¸ªæœ€ç®€å•çš„ vless+xtls çš„å…¥ç«™ï¼Œå› ä¸ºè¿™æ˜¯ Xray æœ€å¼ºå¤§çš„æ¨¡å¼ã€‚å¦‚æœ‰å…¶ä»–éœ€è¦ï¼Œè¯·æ ¹æ®æ¨¡ç‰ˆè‡ªè¡Œæ·»åŠ ã€‚</span>
  <span class="token property">&quot;inbounds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">443</span><span class="token punctuation">,</span>
      <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vless&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;clients&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å¡«å†™ä½ çš„ UUID</span>
            <span class="token property">&quot;flow&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xtls-rprx-vision&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vpsadmin@yourdomain.com&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;decryption&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fallbacks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;dest&quot;</span><span class="token operator">:</span> <span class="token number">80</span> <span class="token comment">// é»˜è®¤å›è½åˆ°é˜²æ¢æµ‹çš„ä»£ç†</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;streamSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;network&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tcp&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;security&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tls&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;tlsSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;alpn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http/1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;certificates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;certificateFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/home/vpsadmin/xray_cert/xray.crt&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;keyFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/home/vpsadmin/xray_cert/xray.key&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 5*å‡ºç«™è®¾ç½®</span>
  <span class="token property">&quot;outbounds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 5.1 ç¬¬ä¸€ä¸ªå‡ºç«™æ˜¯é»˜è®¤è§„åˆ™ï¼Œfreedom å°±æ˜¯å¯¹å¤–ç›´è¿ï¼ˆvps å·²ç»æ˜¯å¤–ç½‘ï¼Œæ‰€ä»¥ç›´è¿ï¼‰</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;direct&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;freedom&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 5.2 å±è”½è§„åˆ™ï¼Œblackhole åè®®å°±æ˜¯æŠŠæµé‡å¯¼å…¥åˆ°é»‘æ´é‡Œï¼ˆå±è”½ï¼‰</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;blackhole&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><ol start="5"><li>å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š <img src="/assets/ch07-img04-xray-log-and-config-BP5ccZ8k.gif" alt="åˆ›å»ºæ—¥å¿—æ–‡ä»¶åŠé…ç½®æ–‡ä»¶"></li></ol><h2 id="_7-5-å¯åŠ¨-xray-æœåŠ¡-å¹¶æŸ¥çœ‹æœåŠ¡çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#_7-5-å¯åŠ¨-xray-æœåŠ¡-å¹¶æŸ¥çœ‹æœåŠ¡çŠ¶æ€"><span>7.5 å¯åŠ¨ Xray æœåŠ¡ï¼ï¼ï¼ˆå¹¶æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼‰</span></a></h2><p>å¦‚æœä½ æ˜¯è·Ÿéšæœ¬æ–‡ä¸€æ­¥æ­¥è®¾ç½®è¿‡æ¥ï¼Œå…¶å®å°±å·²ç»é¿å¼€äº†æœ€å¸¸è§<strong>æ—¥å¿—æ–‡ä»¶æƒé™ä¸è¶³</strong>ã€<strong>è¯ä¹¦æ–‡ä»¶æƒé™ä¸è¶³</strong> è¿™ä¸¤ä¸ªå¤§å‘ã€‚é‚£ä¹ˆç°åœ¨è¿è¡Œ<code>Xray</code>è‡ªç„¶åº”è¯¥æ— æ¯”é¡ºåˆ©ã€‚</p><ol><li>è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œäº«å—å¯åŠ¨<code>Xray</code>çš„å†å²æ€§æ—¶åˆ»å§ï¼ï¼ï¼</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start xray
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>ä»…ä»…<code>start</code>æˆ‘ä»¬å¹¶ä¸èƒ½ç¡®å®šæ˜¯å¦æˆåŠŸçš„å¼€å¯äº† Xray çš„æœåŠ¡ï¼Œè¦ç¡®å®šå®ƒçš„çŠ¶æ€ï¼Œå°±è¦ç”¨åˆ°ä¸‹é¢çš„å‘½ä»¤ã€‚</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl status xray

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>çœ‹åˆ°é‚£ä¸ªç»¿è‰²çš„ã€ä»¤äººæ„‰æ‚¦çš„ <code>active (running)</code> äº†å—ï¼Ÿå®ƒå°±æ˜¯è¯´ <code>Xray</code> å·²ç»åœ¨æ­£ç¡®çš„è¿è¡Œäº†</p><ol start="3"><li>å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š</li></ol><p><img src="/assets/ch07-img05-xray-start-and-status-Cl6yKbrT.gif" alt="å¯åŠ¨å¹¶æŸ¥çœ‹Xrayè¿è¡ŒçŠ¶æ€"></p><h2 id="_7-6-å›é¡¾-systemd-è¿›è¡ŒåŸºæœ¬çš„æœåŠ¡ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_7-6-å›é¡¾-systemd-è¿›è¡ŒåŸºæœ¬çš„æœåŠ¡ç®¡ç†"><span>7.6 å›é¡¾ <code>systemd</code> è¿›è¡ŒåŸºæœ¬çš„æœåŠ¡ç®¡ç†</span></a></h2><p>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨è¿‡äº†<code>systemctl</code>ç›¸å…³çš„<code>start</code>, <code>status</code>, <code>reload</code> ç­‰å‘½ä»¤ï¼Œè¿™äº›éƒ½æ˜¯åŸºäº<code>systemd</code>ç®¡ç†æ¨¡å—å¯¹ Linux ç³»ç»Ÿä¸­å„ç§æœåŠ¡è¿›è¡Œç®¡ç†çš„é€šç”¨å‘½ä»¤ã€‚ç°åœ¨æ­£å¥½ç†Ÿæ‚‰ä¸€ä¸‹ç›¸å…³çš„å…¶ä»–å‡ ä¸ªå‘½ä»¤ã€‚</p><ol><li>è‹¥ä½ éœ€è¦æš‚æ—¶å…³é—­ <code>Xray</code> çš„æœåŠ¡ï¼Œé‚£å°±ç”¨<code>stop</code>å‘½ä»¤</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl stop xray
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>è‹¥ä½ éœ€è¦é‡å¯<code>Xray</code>çš„æœåŠ¡ï¼Œé‚£å°±ç”¨<code>restart</code>å‘½ä»¤</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart xray
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>è‹¥ä½ éœ€è¦ç¦ç”¨<code>Xray</code>çš„æœåŠ¡ï¼ˆç”µè„‘é‡å¯åç¦æ­¢ Xray è‡ªåŠ¨è¿è¡Œï¼‰ï¼Œé‚£å°±ç”¨<code>disable</code>å‘½ä»¤</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl disable xray
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4"><li>è‹¥ä½ éœ€è¦å¯ç”¨<code>Xray</code>çš„æœåŠ¡ï¼ˆç”µè„‘é‡å¯åç¡®ä¿ Xray è‡ªåŠ¨è¿è¡Œï¼‰ï¼Œé‚£å°±ç”¨<code>enable</code>å‘½ä»¤</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> xray
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_7-7-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸€-å¼€å¯-bbr" tabindex="-1"><a class="header-anchor" href="#_7-7-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸€-å¼€å¯-bbr"><span>7.7 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸€ï¼šå¼€å¯ BBR</span></a></h2><ol><li>ä¼ è¯´ä¸­çš„<code>BBR</code></li></ol><p>æˆ‘ç›¸ä¿¡ï¼Œä½ åœ¨æœç´¢å„ç§ç§‘å­¦ä¸Šç½‘æŠ€æœ¯çš„æ—¶å€™ï¼Œè‚¯å®šä¸æ­¢ä¸€æ¬¡çš„å¬è¿‡<code>bbr</code>è¿™ä¸ªä¸œè¥¿ï¼Œåœ¨å„ç§åšå®¢æ·»æ²¹åŠ é†‹ä¹‹ä¸‹ï¼Œè®©äººè§‰å¾—å®ƒç¥ä¹å…¶ç¥ã€‚æ›´æœ‰<code>bbrplus</code>, <code>bbr2</code>, <code>é­”æ”¹bbr</code> ç­‰ä¸€å¤§å †è¡ç”Ÿå“ã€‚ä»¿ä½›ç¥æ²¹ä¸€èˆ¬ï¼Œç”¨äº†å°±èƒ½é‡é¸¡çº¿è·¯å˜ä¸“çº¿ã€‚</p><p>é‚£ä¹ˆï¼Œè¿™ä¸œè¥¿ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰æ²¡æœ‰ç”¨ï¼Ÿåˆè¯¥ç”¨å“ªä¸€ä¸ªç‰ˆæœ¬å‘¢ï¼Ÿ</p><ol start="2"><li>å®é™…çš„<code>BBR</code></li></ol><p><strong>BBR</strong> = <strong>B</strong>ottleneck <strong>B</strong>andwidth and <strong>R</strong>ound-trip propagation timeï¼Œæ˜¯ä¸€ç§ TCP çš„<strong>æ‹¥å¡æ§åˆ¶ç®—æ³•</strong>ã€‚ç®€å•ç²—æš´çš„ç†è§£å°±æ˜¯<strong>æ•°æ®æµé‡çš„äº¤é€šç®¡ç†</strong> ï¼šå½“å…¬è·¯ä¸å†å¡è½¦çš„æ—¶å€™ï¼Œæ¯è¾†è½¦è‡ªç„¶å°±èƒ½ä¿æŒè¾ƒå¿«çš„è½¦é€Ÿäº†ã€‚</p><p>é‚£ä¹ˆå®ƒæœ‰æ²¡æœ‰ç”¨å‘¢ï¼Ÿä¸€èˆ¬è€Œè¨€ï¼Œ<code>æœ‰BBR</code> å’Œ <code>æ²¡æœ‰BBR</code> ä¼šæœ‰å¯ä»¥æ„ŸçŸ¥çš„å·®åˆ«ï¼ˆé€Ÿåº¦ã€ç¨³å®šæ€§ã€å»¶è¿Ÿæ–¹é¢éƒ½ä¼šæœ‰ä¸€äº›æ”¹å–„ï¼‰ï¼Œæ‰€ä»¥ <strong>ã€éå¸¸å»ºè®®å¼€å¯ <code>BBR</code>ã€‘</strong>ã€‚</p><p>ä½†å¼€å¯ä¹‹åï¼Œ<code>BBR</code> åœ¨ <code>4.x</code> å’Œ <code>5.x</code> ä¹‹é—´çš„å·®å¼‚å¾€å¾€æ¯”è¾ƒå¾®å¦™ã€è§ä»è§æ™ºï¼Œé€ æˆä½“éªŒå·®åˆ«çš„å†³å®šæ€§å› ç´ ä»ç„¶æ˜¯çº¿è·¯è´¨é‡ã€‚æ‰€ä»¥ <strong>ã€ä¸å¿…çº ç»“ç‰ˆæœ¬ã€ä¸å¿…ç›²ç›®è¿½æ–°ã€è·Ÿéšä½ çš„å‘è¡Œç‰ˆæ›´æ–°å†…æ ¸å³å¯ã€‘</strong></p><ol start="3"><li><code>bbrplus</code>, <code>bbr2</code>, <code>é­”æ”¹bbr</code> å’Œå…¶ä»–å„ç§å¬èµ·æ¥å°±é…·ç‚«çš„ç‰ˆæœ¬æ˜¯ä¸æ˜¯æ›´å¥½ï¼Ÿ</li></ol><p>ä¸€å¥è¯ï¼š<strong>ä¸æ˜¯ï¼ä¸è¦ç”¨è¿™äº›ï¼è¿™äº›éƒ½ä¸ºäº†å¸å¼•çœ¼çƒä¹±èµ·çš„åå­—ï¼</strong></p><p><code>BBR</code> çš„æ›´æ–°å’Œå‘å¸ƒï¼Œéƒ½æ˜¯è·Ÿéš Linux çš„å†…æ ¸ï¼ˆ<code>Kernel</code>ï¼‰è¿›è¡Œçš„ã€‚æ¢è¨€ä¹‹ï¼Œåªè¦ä½ ç”¨çš„æ˜¯æ¯”è¾ƒæ–°çš„å†…æ ¸ï¼Œå°±è‡ªç„¶ä¼šä½¿ç”¨åˆ°æ–°ç‰ˆ<code>BBR</code>ã€‚</p><p>è€Œè¿™äº›åå­—çœ‹èµ·æ¥å¾ˆé…·ç‚«çš„ä¸œè¥¿ï¼Œè¯´ç™½äº†å°±æ˜¯ä»æœªæ­£å¼å‘å¸ƒçš„ã€å°šåœ¨æµ‹è¯•é˜¶æ®µçš„å†…æ ¸åŠå…¶å¯¹åº”çš„<code>BBR</code>ç‰ˆæœ¬ã€‚è¿™äº›è„šæœ¬ä¹Ÿä»…ä»…å°±æ˜¯é€šè¿‡ä¸‹è½½é¢„è§ˆç‰ˆçš„å†…æ ¸ï¼ˆç”šè‡³ç¬¬ä¸‰æ–¹é­”æ”¹å†…æ ¸ï¼‰æ¥ç‡å…ˆå¼€å¯è€Œå·²ã€‚</p><p>å†…æ ¸çš„ç¨³å®šæ˜¯ä¸€å°æœåŠ¡å™¨ç¨³å®šè¿è¡Œçš„åŸºçŸ³ã€‚<strong>ã€BBR æµ‹è¯•ç‰ˆå¸¦æ¥çš„ç»†å¾®æ€§èƒ½å·®å¼‚ç»å¯¹ä¸å€¼å¾—æ›´æ¢ä¸ç¨³å®šçš„å†…æ ¸ã€‚ã€‘</strong> è¯·é€‰æ‹©ä½ æ‰€åœ¨çš„ Linux å‘è¡Œç‰ˆæ‰€æ”¯æŒçš„æœ€æ–°å†…æ ¸ï¼Œè¿™æ ·å¯ä»¥æœ€å¤§é™åº¦çš„ä¿æŒæœåŠ¡å™¨çš„é•¿æœŸç¨³å®šå’Œå…¼å®¹ã€‚</p><div class="custom-container warning"><p class="custom-container-title">Warning</p><p>æ‰€è°“é­”æ”¹<code>bbr</code>çš„ã€é¢†å…ˆã€‘æ˜¯æœ‰éå¸¸å¼ºçš„æ—¶æ•ˆæ€§çš„ã€‚æ¯”å¦‚å¾ˆå¤š <code>bbrplus</code> è„šæœ¬ï¼Œå› ä¸ºå‡ å¹´æ¥éƒ½æ²¡æœ‰æ›´æ–°ï¼Œåˆ°ç°åœ¨è¿˜ä¼šæŠŠä½ çš„å†…æ ¸æ¢æˆ <code>4.19</code>ï¼Œè¦çŸ¥é“ç°åœ¨ç¨³å®šå¦‚ Debian å·²ç»æ˜¯ <code>5.9</code> çš„æ—¶ä»£äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªè„šæœ¬æ”¾åœ¨ 2018 å¹´ 1 æœˆä¹Ÿè®¸é¢†å…ˆäº†ä¸€ç‚¹ï¼Œåˆ° 2018 å¹´ 10 æœˆ 4.19 æ­£å‘å¸ƒæ—¶å°±å·²ç»å¤±å»äº†æ„ä¹‰ï¼Œæ”¾åœ¨ç°åœ¨ç”šè‡³å¯ä»¥è¯´æ˜¯å®Œå®Œå…¨å…¨çš„ã€é™çº§ã€‘å’Œã€åŠ£åŒ–ã€‘</p></div><ol start="4"><li><code>fq</code>, <code>fq_codel</code>, <code>fq_pie</code>, <code>cake</code>å’Œå…¶ä»–ç®—æ³•å“ªä¸ªå¥½ï¼Ÿ</li></ol><p>ä¸€å¥è¯ï¼š<strong>çœ‹ä¸æ‡‚çš„è¯ï¼Œè¯·ä¿æŒ<code>fq</code>ï¼Œè¶³å¤Ÿã€ä¸”ä¸ä¼šåŠ£åŒ–ä½ çš„çº¿è·¯</strong></p><ol start="5"><li>é”é€Ÿã€Finalspeedã€LotServer å’Œå…¶ä»–â€œåŠ é€Ÿå·¥å…·â€</li></ol><p>ä¸€å¥è¯ï¼š<strong>ä¸è¦ç”¨è¿™äº›ï¼æŠŠä»–ä»¬ä¸¢è¿›å†å²çš„åƒåœ¾æ¡¶å§ï¼</strong></p><p>å®ƒèƒ½è§£å†³çš„ä¹Ÿåªæœ‰ä¸¢åŒ…ç‡çš„é—®é¢˜ã€‚ä¸å¤ªå‡†ç¡®çš„æ¯”å–»ï¼Œå°±æ˜¯æœ¬æ¥ä½ ç”¨ä¸€è¾†è½¦é€ä½ çš„è´§ï¼Œæœ‰æ—¶å€™è½¦åŠè·¯å°±åäº†ï¼ˆä¸¢åŒ…ï¼‰ï¼Œç”¨äº†è¿™äº›ä»¥åï¼Œä½ ç›´æ¥æ´¾å‡º 3 ä»½ä¸€æ ·çš„è´§ï¼Œè®©ä¸‰è¾†è½¦åŒæ—¶é€ï¼Œåªè¦æœ‰ä¸€è¾†æ²¡åå°±èƒ½é€åˆ°ã€‚é©¬è·¯ä¸Šéƒ½æ˜¯ä½ çš„è½¦ï¼Œè‡ªç„¶å°±èƒ½æŠŠåˆ«äººæŒ¤ä¸‹å»ã€‚ä½†å¯æƒ³è€ŒçŸ¥ï¼Œä½ æŒ¤åˆ«äººçš„æ—¶å€™ï¼Œåˆ«äººä¹Ÿä¼šæ¥æŒ¤ä½ ï¼Œè€Œæ•´ä¸ªæœºæˆ¿çš„å‡ºå£é“è·¯ä¸€å…±å°±é‚£ä¹ˆå®½ï¼Œæœ€ç»ˆåŠ¿å¿…å°±å˜æˆé›†ä½“å¤§å µè½¦äº†ã€‚</p><div class="custom-container warning"><p class="custom-container-title">è¯´æ˜</p><p>å®ƒä»¬çš„åŸç†ä¸æ˜¯ç®—æ³•ä¼˜åŒ–ã€ä¸æ˜¯æé€Ÿã€å¤§å¤šæ•°æ˜¯ç®€å•ç²—æš´çš„<strong>å¤šå€å‘åŒ…</strong>ã€‚å¯¹äºã€ä¸¢åŒ…ç‡éå¸¸é«˜ã€‘çš„å·®çº¿è·¯å¯èƒ½æœ‰ä¸€ç‚¹ä½œç”¨ï¼Œä½†ã€å¯¹ä¸¢åŒ…ç‡ä½çš„å¥½çº¿è·¯æ²¡æœ‰ä»»ä½•ä¼˜åŒ–ä½œç”¨ï¼Œåè€Œä¼šæˆå€çš„æ¶ˆè€—ä½ çš„æµé‡ã€‘ï¼Œè¿›è€Œé€ æˆæœåŠ¡å™¨å’Œä½ çš„é‚»å±…ä¸å¿…è¦çš„å‹åŠ›ã€‚</p><p>å¦‚æœä½ çš„çº¿è·¯çœŸçš„ä¸¢åŒ…ç‡å¥‡é«˜ï¼ŒçœŸæ­£é è°±çš„è§£å†³æ–¹æ¡ˆæ˜¯ã€æ¢çº¿è·¯ã€‘ã€‚</p></div><ol start="6"><li><p>å•°å—¦äº†è¿™ä¹ˆå¤šï¼Œå°±æ˜¯å› ä¸ºå›´ç»• <code>BBR</code> å¿½æ‚ å°ç™½çš„é”™è¯¯æ¦‚å¿µå’Œå‘äººè„šæœ¬å®åœ¨æ˜¯å¤ªå¤šäº†ã€‚æˆ‘å¸Œæœ›ä½ ä»¬ç°åœ¨å¯¹ <code>BBR</code> æœ‰äº†ç›¸å¯¹æ¸…æ™°çš„ç†è§£ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±åŠ¨æ‰‹å®‰è£…æœ€æ–°çš„ Debian å†…æ ¸å¹¶å¼€å¯<code>BBR</code> å§ï¼ï¼ˆçœŸçš„å¾ˆç®€å•ï¼‰</p></li><li><p>ç»™ Debian 10 æ·»åŠ å®˜æ–¹ <code>backports</code> æºï¼Œè·å–æ›´æ–°çš„è½¯ä»¶åº“</p></li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /etc/apt/sources.list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">è¯´æ˜</p><p>æœ¬æ–‡ä»¥ Debian 10 ä¸ºä¾‹ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>/etc/apt/sources.list</code> ä»æ— é—®é¢˜ï¼Œä½†å¦‚æœä½ å¹¶ä¸æ˜¯æ ¹æ®æœ¬æ–‡ä»å¤´å¼€å§‹ï¼Œæˆ–è€…ä½¿ç”¨äº†å…¶ä»– Linux å‘è¡Œç‰ˆï¼Œé‚£ä¹ˆå»ºè®®ä½ å»ºç«‹ <code>/etc/apt/sources.list.d/</code> æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹å†…å»ºç«‹è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œå½¢å¦‚ <code>/etc/apt/sources.list.d/vpsadmin.list</code> ï¼Œä»¥æ­¤ä¿è¯å…¼å®¹æ€§ï¼Œä¹Ÿå¯é¿å…é»˜è®¤æ–‡ä»¶åœ¨ä¸å¯é¢„è§çš„æƒ…å†µä¸‹è¢«è¦†ç›–è€Œå¯¼è‡´é…ç½®ä¸¢å¤±ã€‚</p></div><ol start="2"><li>ç„¶åæŠŠä¸‹é¢è¿™ä¸€æ¡åŠ åœ¨æœ€åï¼Œå¹¶ä¿å­˜é€€å‡ºã€‚</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>deb http://deb.debian.org/debian buster-backports main
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>åˆ·æ–°è½¯ä»¶åº“å¹¶æŸ¥è¯¢ Debian å®˜æ–¹çš„æœ€æ–°ç‰ˆå†…æ ¸å¹¶å®‰è£…ã€‚è¯·åŠ¡å¿…å®‰è£…ä½ çš„ VPS å¯¹åº”çš„ç‰ˆæœ¬ï¼ˆæœ¬æ–‡ä»¥æ¯”è¾ƒå¸¸è§çš„ã€amd64ã€‘ä¸ºä¾‹ï¼‰ã€‚</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token parameter variable">-t</span> buster-backports <span class="token function">install</span> linux-image-amd64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p><p>å¦‚æœä½ çš„ VPS æ”¯æŒï¼Œå¯ä»¥å°è¯•ã€äº‘æœåŠ¡å™¨ä¸“ç”¨å†…æ ¸ã€‘<code>linux-image-cloud-amd64</code>ï¼Œä¼˜ç‚¹å°±æ˜¯ç²¾ç®€ã€èµ„æºå ç”¨ä½ï¼Œç¼ºç‚¹å˜›æ˜¯æœ‰åŒå­¦åé¦ˆä¸æ”¯æŒçš„ç³»ç»Ÿå¼ºè¡Œå®‰è£…ä¼šå¯¼è‡´æ— æ³•å¼€æœºï¼ˆKernel æ— æ³•è¯†åˆ«ï¼‰ã€‚</p><p>ä¸ºäº†é¿å…æ— æ³•è¯†åˆ«çš„æ‚²å‰§ï¼Œè¯·ç¡®ä¿ï¼š</p><ul><li>å°è¯•å‰åšä¸€ä¸ªç³»ç»Ÿå¿«ç…§ï¼Œæˆ–è€…</li><li>ä½ æœ‰ <code>vnc</code> å¯ä»¥æ•‘åœºï¼ˆå¹¶ä¸”ä½ çŸ¥é“æ€ä¹ˆç”¨ï¼‰</li></ul></div><ol start="4"><li>ä¿®æ”¹ <code>kernel</code> å‚æ•°é…ç½®æ–‡ä»¶ <code>sysctl.conf</code> å¹¶æŒ‡å®šå¼€å¯ <code>BBR</code></li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /etc/sysctl.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">è¯´æ˜</p><p>æœ¬æ–‡ä»¥ Debian 10 ä¸ºä¾‹ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>/etc/sysctl.conf</code> ä»æ— é—®é¢˜ï¼Œä½†å¦‚æœä½ å¹¶ä¸æ˜¯è·Ÿç€æœ¬æ–‡ä»å¤´å¼€å§‹ï¼Œæˆ–è€…ä½¿ç”¨äº†å…¶ä»– Linux å‘è¡Œç‰ˆï¼Œé‚£ä¹ˆå»ºè®®ä½ å»ºç«‹ <code>/etc/sysctl.d/</code> æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹å†…å»ºç«‹è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œå½¢å¦‚ <code>/etc/sysctl.d/vpsadmin.conf</code>ï¼Œä»¥æ­¤ä¿è¯å…¼å®¹æ€§ï¼Œå› ä¸ºéƒ¨åˆ†å‘è¡Œç‰ˆåœ¨ <code>systemd</code> 207 ç‰ˆæœ¬ä¹‹åä¾¿ä¸å†ä» <code>/etc/sysctl.conf</code> è¯»å–å‚æ•°ã€‚ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ä¹Ÿå¯é¿å…é»˜è®¤æ–‡ä»¶åœ¨ä¸å¯é¢„è§çš„æƒ…å†µä¸‹è¢«è¦†ç›–è€Œå¯¼è‡´é…ç½®ä¸¢å¤±ã€‚</p></div><ol start="5"><li>æŠŠä¸‹é¢çš„å†…å®¹æ·»åŠ è¿›å»</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>net.core.default_qdisc=fq
net.ipv4.tcp_congestion_control=bbr
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>é‡å¯ VPSã€ä½¿å†…æ ¸æ›´æ–°å’Œ<code>BBR</code>è®¾ç½®éƒ½ç”Ÿæ•ˆ</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="7"><li>å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š</li></ol><div class="custom-container tip"><p class="custom-container-title">å•°å—¦å›</p><p>å› ä¸ºæˆ‘åšå±•ç¤ºçš„ VPS æ”¯æŒäº‘æœåŠ¡å™¨ä¸“ç”¨å†…æ ¸ï¼Œæ‰€ä»¥åŠ¨å›¾ä¸­æˆ‘ç”¨äº† <code>linux-image-cloud-amd64</code> ã€‚å¦‚æœä½ ä¸ç¡®å®šä½ çš„ VPS æ˜¯å¦æ”¯æŒï¼Œé‚£è¯·åŠ¡å¿…æŒ‰ç…§ç¬¬ 3 æ­¥çš„å‘½ä»¤ï¼Œä½¿ç”¨å¸¸è§„å†…æ ¸ <code>linux-image-amd64</code>ã€‚</p></div><p><img src="/assets/ch07-img06-bbr-proper-BpzfpFMr.gif" alt="æ›´æ–°Debianå†…æ ¸å¹¶å¼€å¯"></p><ol start="8"><li>ç¡®è®¤<code>BBR</code>å¼€å¯</li></ol><p>å¦‚æœä½ æƒ³ç¡®è®¤ <code>BBR</code> æ˜¯å¦æ­£ç¡®å¼€å¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>lsmod <span class="token operator">|</span> <span class="token function">grep</span> bbr
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ­¤æ—¶åº”è¯¥è¿”å›è¿™æ ·çš„ç»“æœï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>tcp_bbr
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä½ æƒ³ç¡®è®¤ <code>fq</code> ç®—æ³•æ˜¯å¦æ­£ç¡®å¼€å¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>lsmod <span class="token operator">|</span> <span class="token function">grep</span> fq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ­¤æ—¶åº”è¯¥è¿”å›è¿™æ ·çš„ç»“æœï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>sch_fq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_7-8-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒ-å¼€å¯-http-è‡ªåŠ¨è·³è½¬-https" tabindex="-1"><a class="header-anchor" href="#_7-8-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒ-å¼€å¯-http-è‡ªåŠ¨è·³è½¬-https"><span>7.8 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒï¼šå¼€å¯ HTTP è‡ªåŠ¨è·³è½¬ HTTPS</span></a></h2><ol><li>ä¹‹å‰æˆ‘ä»¬å·²ç»æ­å»ºäº† <code>80</code> ç«¯å£çš„ <code>http</code> ç½‘é¡µï¼Œå¹¶ä»¥æ­¤ç”³è¯·äº† TLS è¯ä¹¦ã€‚</li></ol><p>ä½†å¦‚æœä½ å°è¯•è¿‡ç”¨æµè§ˆå™¨è®¿é—®æˆ‘ä»¬çš„è¿™ä¸ªç•Œé¢ï¼Œå°±ä¼šå‘ç° <code>http</code> è®¿é—®å¹¶ä¸ä¼šåƒå¤§å¤šæ•°ç½‘ç«™ä¸€æ ·è‡ªåŠ¨å‡çº§ä¸º <code>https</code> è®¿é—®ã€‚æ¢è¨€ä¹‹ï¼Œæˆ‘ä»¬ç°åœ¨çš„è®¾ç½®ä¸‹ï¼Œ<code>http(80)</code> å’Œ <code>https(443)</code> ä¹‹é—´å®Œå…¨æ˜¯ç‹¬ç«‹çš„ã€‚å¦‚æœè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦åšä¸€äº›ä¿®æ”¹ã€‚</p><ol start="2"><li>ç¼–è¾‘ Nginx çš„é…ç½®æ–‡ä»¶</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /etc/nginx/nginx.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>åœ¨æˆ‘ä»¬è®¾ç½®è¿‡çš„ 80 ç«¯å£ Server ä¸­åŠ å…¥ä¸‹é¢çš„è¯­å¥ï¼Œå¹¶ä¿å­˜é€€å‡ºï¼ˆå¯åŒæ—¶åˆ é™¤<code>root</code>å’Œ<code>index</code>ä¸¤è¡Œï¼‰</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>return 301 https://$http_host$request_uri;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4"><li>åœ¨ä¸ <code>80</code> ç«¯å£åŒçº§çš„ä½ç½®å¢åŠ ä¸€ä¸ªæœ¬åœ°ç«¯å£ç›‘å¬æ¥æä¾›ç½‘é¡µå±•ç¤ºã€‚æœ¬æ–‡ä»¥ <code>8080</code> ç«¯å£åšæ¼”ç¤ºã€‚ï¼ˆå¯ä»¥æ˜¯ä»»æ„ç«¯å£ï¼‰</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>server {
   listen 127.0.0.1:8080;
   root /home/vpsadmin/www/webpage;
   index index.html;
   add_header Strict-Transport-Security &quot;max-age=63072000&quot; always;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>é‡å¯ Nginx æœåŠ¡</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="6"><li>ä¿®æ”¹ Xray çš„å›è½è®¾ç½®ï¼Œå°†å›è½ä» <code>80</code> ç«¯å£æ”¹ä¸º <code>8080</code> ç«¯å£ã€‚ï¼ˆæ‰¾åˆ° <code>&quot;dest&quot;: 80</code>, å¹¶æ”¹æˆ <code>&quot;dest&quot;: 8080</code>ï¼‰</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /usr/local/etc/xray/config.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="7"><li>é‡å¯ <code>Xray</code> æœåŠ¡ï¼Œå³å®Œæˆäº†è®¾ç½®</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl restart xray
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="8"><li>å®Œæ•´æµç¨‹æ¼”ç¤ºå¦‚ä¸‹ï¼š</li></ol><p><img src="/assets/ch07-img07-http-to-https-QYIcd_gO.gif" alt="httpè‡ªåŠ¨è·³è½¬https"></p><ol start="9"><li>å½“ä½ è¾“å…¥ <code>http://a-name.yourdomain.com</code>çš„æ—¶å€™ï¼Œå®ƒåº”è¯¥å·²ç»ä¼šè‡ªåŠ¨è·³è½¬ https äº†</li></ol><p><img src="/assets/ch07-img08-http-to-https-check-Dl2uIAjv.png" alt="httpè‡ªåŠ¨è·³è½¬httpsç”Ÿæ•ˆ"></p><h2 id="_7-9-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸‰-æ›´ä¸°å¯Œçš„å›è½" tabindex="-1"><a class="header-anchor" href="#_7-9-æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸‰-æ›´ä¸°å¯Œçš„å›è½"><span>7.9 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹ä¸‰ï¼šæ›´ä¸°å¯Œçš„å›è½</span></a></h2><p>å¦‚æœä½ éœ€è¦æ›´ä¸°å¯Œçš„å›è½åŠŸèƒ½ï¼Œå¯ä»¥å‚è€ƒ <a href="/en/document/level-1/fallbacks-lv1/" class="">ã€Šå›è½ (fallbacks) åŠŸèƒ½ç®€æã€‹</a></p><h2 id="_7-10-ä½ çš„è¿›åº¦" tabindex="-1"><a class="header-anchor" href="#_7-10-ä½ çš„è¿›åº¦"><span>7.10 ä½ çš„è¿›åº¦</span></a></h2><p>æ­å–œï¼ï¼åˆ°è¿™ä¸€æ­¥ï¼Œä½ å·²ç»æ‹¥æœ‰äº†å¯ä»¥æ­£å¸¸ç§‘å­¦ä¸Šç½‘çš„æœåŠ¡å™¨ã€åŒæ—¶ä¹Ÿæœ‰äº†å¯ä»¥é˜²æ­¢ä¸»åŠ¨æ¢æµ‹æ”»å‡»çš„ä¼ªè£…ç½‘ç«™ã€‚æ¥ä¸‹æ¥ï¼Œåªè¦ç»™ä½ çš„å®¢æˆ·ç«¯è£…ä¸Šåˆé€‚çš„è½¯ä»¶ï¼Œå°±å¯ä»¥äº«å—é¡ºç•…çš„ç½‘ç»œäº†ï¼</p><blockquote><p>â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬œ 87.5%</p></blockquote><h2 id="_7-11-é‡è¦å‹˜è¯¯" tabindex="-1"><a class="header-anchor" href="#_7-11-é‡è¦å‹˜è¯¯"><span>7.11 é‡è¦å‹˜è¯¯</span></a></h2><ol><li>åˆç‰ˆä¸­<code>Xray</code>é…ç½®æ–‡ä»¶<code>config.json</code>æ–‡ä»¶å¤¹ä½ç½®é”™è¯¯ã€‚è‹¥ä½ å·²ç»æ ¹æ®ä¹‹å‰çš„ä½ç½®è¿›è¡Œäº†æ“ä½œï¼Œ<code>Xray</code>ä¼šæ— æ³•æ­£ç¡®å¯åŠ¨ã€‚æ•…å‹˜è¯¯è¯´æ˜äºæ­¤ï¼Œè¯·è‡ªæŸ¥ï¼Œé€ æˆä¸ä¾¿ååˆ†æŠ±æ­‰ï¼</li></ol><ul><li>æ­£ç¡®ä½ç½®ï¼š<code>/usr/local/etc/xray/config.json</code></li><li>é”™è¯¯ä½ç½®ï¼š<code>/usr/local/etc/config.json</code></li></ul><p>å—å½±å“ç« èŠ‚ï¼š</p><ul><li>7.4 é…ç½®<code>Xray</code> - 3. ä½¿ç”¨<code>nano</code>åˆ›å»º<code>Xray</code>çš„é…ç½®æ–‡ä»¶</li><li>7.8 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒ - 6. ä¿®æ”¹<code>Xray</code>çš„å›è½è®¾ç½®</li></ul><ol start="2"><li>åˆç‰ˆä¸­ä¿®æ”¹<code>Nginx</code>é…ç½®æ–‡ä»¶<code>nginx.conf</code>æ—¶å†…å®¹é”™è¯¯ï¼ˆç½‘é¡µæ–‡ä»¶å¤¹ä½ç½®é”™è¯¯ï¼‰ï¼Œè‹¥ä½ å·²ç»æ ¹æ®ä¹‹å‰çš„ä½ç½®è¿›è¡Œäº†æ“ä½œï¼Œ<code>Nginx</code>ä¼šæ— æ³•æ‰¾åˆ°æ­£ç¡®çš„ç½‘ç«™ã€‚è¯·è‡ªæŸ¥ï¼Œé€ æˆä¸ä¾¿ååˆ†æŠ±æ­‰ï¼</li></ol><ul><li>æ­£ç¡®æ–‡ä»¶å¤¹ä½ç½®ï¼š<code>root /home/vpsadmin/www/webpage;</code></li><li>é”™è¯¯æ–‡ä»¶å¤¹ä½ç½®ï¼š<code>root /var/www/website/html</code></li></ul><p>å—å½±å“ç« èŠ‚ï¼š</p><ul><li>7.8 æœåŠ¡å™¨ä¼˜åŒ–ä¹‹äºŒ - 4. åœ¨ä¸ <code>80</code> ç«¯å£åŒçº§çš„ä½ç½®å¢åŠ ä¸€ä¸ªæœ¬åœ°ç«¯å£ç›‘å¬æ¥æä¾›ç½‘é¡µå±•ç¤º</li></ul></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/xtls/Xray-docs-next/edit/main/docs/en/document/level-0/ch07-xray-server.md" rel="noopener noreferrer" target="_blank" aria-label="Help us improve this page on GitHubï¼"><!--[--><!--]--> Help us improve this page on GitHubï¼ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1588741+yuhan6665@users.noreply.github.com">yuhan6665</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 82594500+hmol233@users.noreply.github.com">hmol233</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav" aria-label="page navigation"><p class="inner"><span class="prev"><a href="/en/document/level-0/ch06-certificates.html" class="" aria-label="[Chapter 6] Certificate Management"><!--[--><!--]--> [Chapter 6] Certificate Management <!--[--><!--]--></a></span><span class="next"><a href="/en/document/level-0/ch08-xray-clients.html" class="" aria-label="ã€ç¬¬ 8 ç« ã€‘Xray å®¢æˆ·ç«¯ç¯‡"><!--[--><!--]--> ã€ç¬¬ 8 ç« ã€‘Xray å®¢æˆ·ç«¯ç¯‡ <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-BKlUr_BJ.js" defer></script>
  </body>
</html>
